import{_ as d,c as u,a,b as i,t as g,d as t,w as n,e as s,r,o as f}from"./app-dfCIEjaq.js";const c="/images/textreview/diglossa/diglossa_01.png",m="/images/textreview/diglossa/diglossa_02.png",D="/images/textreview/diglossa/diglossa_05.png",h="/images/textreview/diglossa/diglossa_yandexmap_01.png",b="/images/textreview/diglossa/diglossa_yandexmap_02.png",v="/images/textreview/diglossa/diglossa_yandexmap_03.png",q="/images/textreview/diglossa/diglossa_03.png",B="/images/textreview/diglossa/diglossa_06.png",k="/images/textreview/diglossa/diglossa_anthrax_01.png",x="/images/textreview/diglossa/diglossa_dict_01.gif",_={},w={id:"frontmatter-title",tabindex:"-1"},C={class:"header-anchor",href:"#frontmatter-title"},y={class:"table-of-contents"};function E(l,e){const o=r("router-link"),p=r("RouteLink");return f(),u("div",null,[a("h1",w,[a("a",C,[a("span",null,g(l.$frontmatter.title),1)])]),e[12]||(e[12]=a("p",null,[a("strong",null,"07.10.2022")],-1)),a("nav",y,[a("ul",null,[a("li",null,[t(o,{to:"#описание"},{default:n(()=>e[0]||(e[0]=[s("Описание")])),_:1})]),a("li",null,[t(o,{to:"#diglossa"},{default:n(()=>e[1]||(e[1]=[s("Diglossa")])),_:1})]),a("li",null,[t(o,{to:"#формат-dlg"},{default:n(()=>e[2]||(e[2]=[s("Формат dlg")])),_:1})]),a("li",null,[t(o,{to:"#слои"},{default:n(()=>e[3]||(e[3]=[s("Слои")])),_:1})]),a("li",null,[t(o,{to:"#параллельные-тексты"},{default:n(()=>e[4]||(e[4]=[s("Параллельные тексты")])),_:1})]),a("li",null,[t(o,{to:"#словари"},{default:n(()=>e[5]||(e[5]=[s("Словари")])),_:1})]),a("li",null,[t(o,{to:"#заключение"},{default:n(()=>e[6]||(e[6]=[s("Заключение")])),_:1})])])]),e[13]||(e[13]=i('<h2 id="описание" tabindex="-1"><a class="header-anchor" href="#описание"><span>Описание</span></a></h2><p>Diglossa — набор программ для чтения и создания электронных книг. Отличительные особенности проекта: автоматизация создания параллельных текстов на разных языках, поддержка словарей, включая их генерацию, использование текстовых слоёв.</p><p>Проект развивает Михаил Быков с 2016 года. Сайты с информацией по проекту: <a href="http://diglossa.org" target="_blank" rel="noopener noreferrer">diglossa.org</a> и <a href="http://diglossa.ru" target="_blank" rel="noopener noreferrer">diglossa.ru</a>. Исходный код всех систем проекта открыт и размещён на GitHub: <a href="https://github.com/mbykov/diglossa" target="_blank" rel="noopener noreferrer">diglossa</a>, <a href="https://github.com/mbykov/anthrax" target="_blank" rel="noopener noreferrer">anthrax</a>, <a href="https://github.com/mbykov/pecha.js" target="_blank" rel="noopener noreferrer">pecha.js</a> и др.</p><h2 id="diglossa" tabindex="-1"><a class="header-anchor" href="#diglossa"><span>Diglossa</span></a></h2><p>Основной модуль Диглосы является десктопным приложением на <a href="https://www.electronjs.org" target="_blank" rel="noopener noreferrer">Electron</a> + <a href="https://couchdb.apache.org" target="_blank" rel="noopener noreferrer">CouchDB</a>, другие модули используют сходный стек. Для последней версии (<a href="https://github.com/mbykov/diglossa/releases/tag/v0.9.94" target="_blank" rel="noopener noreferrer">0.9.94</a>) в релизах на GitHub есть релизы для macOS и нескольких дистрибутивов Linux, версии для Windows нет.</p><p>Возможности программы из описания:</p><blockquote><ul><li>импорт книг: .epub, .pdf, .fb2, .html, .md, .txt и — .dgl</li><li>импорт словарей — .sd, .dsl</li><li>автоматическое определение языка текста</li><li>вызов соответствующего языку словаря по alt-mouse-move</li><li>локальный и полнотекстовый поиск</li><li>закладки</li><li>импорт и параллельное подключение переводов той же книги</li><li>редактирование структуры книги</li><li>автоматическая проверка синхронизации абзацев</li><li>экспорт синхронизированных книг в формате .dgl (пока только в виде файла)</li><li>генерация многоязычных контекстных фразовых словарей<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></li></ul></blockquote><p>Внешне Diglossa похожа на обычную читалку для электронных книг.</p><figure><img src="'+c+'" alt="" tabindex="0"><figcaption></figcaption></figure><figure><img src="'+m+'" alt="" tabindex="0"><figcaption></figcaption></figure><p>В плане обычного чтения обычных книг, Диглоса не предоставляет каких-то преимуществ по сравнению с другими читалками (например, <a href="https://ru.wikipedia.org/wiki/CoolReader" target="_blank" rel="noopener noreferrer">CoolReader</a>), примечательные возможности описаны далее.</p><p>В целом интерфейс программе не всегда интуитивно-понятный и содержит ошибки. Например, если не сделать генерацию индекса через главное меню (<code>Книга</code> — <code>Generate FTS</code>) то при поиске будет пустое окно результатов. Даже если сделать поиск и там будут результаты, непонятно как вернуться назад к книге, в интерфейсе нет элементов для этого.</p><figure><img src="'+D+`" alt="" tabindex="0"><figcaption></figcaption></figure><p>Возможности поиска только по одной книге найти не получилось, ищет сразу по всем. Сходные замечания можно описать и по функционалу связанному с закладками.</p><p>Это не критичные замечания и, вероятно, исправить их не сложно, но таких деталей много и они затрудняют использование программы. Проблемы такого рода могут быть устранены если у программы появится сообщество которое сможет заняться подобными доработками.</p><h2 id="формат-dlg" tabindex="-1"><a class="header-anchor" href="#формат-dlg"><span>Формат dlg</span></a></h2><p>Diglossa может экспортировать и импортировать книги в собственном формате dlg. Книга в формате dlg это архив состоящий из файла с описанием в формате JSON и файлов книг в Markdown.</p><p>JSON-файл содержит стандартную информацию, вроде названия книги и лицензии, а так же список Markdown-файлов. Каждый Markdown-файл представляет собой книгу на определённом языке. Таким образом формат подходит для хранения параллельных текстов. Пример JSON файла из dlg-книги:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">{</span>
<span class="line">  &quot;name&quot;: &quot;Владимир-Ильич-Ленин-Государство-и-революция&quot;,</span>
<span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span>
<span class="line">  &quot;editor&quot;: &quot;John Doe&quot;,</span>
<span class="line">  &quot;email&quot;: &quot;john.doe@example.com&quot;,</span>
<span class="line">  &quot;homepage&quot;: &quot;http://example.com&quot;,</span>
<span class="line">  &quot;license&quot;: &quot;CC BY-SA&quot;,</span>
<span class="line">  &quot;keywords&quot;: &quot;diglossa, bilingua, dgl&quot;,</span>
<span class="line">  &quot;date&quot;: &quot;2022-10-06 17:31:17&quot;,</span>
<span class="line">  &quot;texts&quot;: [</span>
<span class="line">    {</span>
<span class="line">      &quot;lang&quot;: &quot;rus&quot;,</span>
<span class="line">      &quot;author&quot;: &quot;Владимир Ильич Ленин&quot;,</span>
<span class="line">      &quot;title&quot;: &quot;Государство и революция&quot;,</span>
<span class="line">      &quot;type&quot;: &quot;md&quot;,</span>
<span class="line">      &quot;src&quot;: &quot;Владимир-Ильич-Ленин-Государство-и-революция/ВладимирИльичЛенин-Государство-и-революция.rus.md&quot;,</span>
<span class="line">      &quot;origin&quot;: true</span>
<span class="line">    },</span>
<span class="line">    {</span>
<span class="line">      &quot;lang&quot;: &quot;eng&quot;,</span>
<span class="line">      &quot;author&quot;: &quot;V. I. Lenin&quot;,</span>
<span class="line">      &quot;title&quot;: &quot;The State and Revolution&quot;,</span>
<span class="line">      &quot;type&quot;: &quot;md&quot;,</span>
<span class="line">      &quot;src&quot;: &quot;Владимир-Ильич-Ленин-Государство-и-революция/V.I.Lenin-The-State-and-Revolution.eng.md&quot;</span>
<span class="line">    }</span>
<span class="line">  ]</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Точного описания используемого Diglossa диалекта Markdown нет, единственное замечание касается интерпретации блоков текста для удобного сопоставления вариантов на разных языках:</p><blockquote><p>Псевдо-markdown — потому что из блоковых тегов используется только один — p, или paragraph. Последовательность (псевдо) абзацев включает заголовки, абзацы, строки таблицы, строки списка, примечания и всё подобное горизонтальное. Таким образом, текст книги превращается в последовательность абзацев. Благодаря этой особенности формата .dgl можно легко сопоставить два или более параллельных текста. В синхронизируемых текстах каждый абзац соответствует своей параллельной паре. <sup class="footnote-ref"><a href="#fn1" id="fnref1:1">[1:1]</a></sup></p></blockquote><h2 id="слои" tabindex="-1"><a class="header-anchor" href="#слои"><span>Слои</span></a></h2>`,22)),a("p",null,[e[8]||(e[8]=s("Концепция слоёв — одна из наиболее важных для текстологии идей описанных в материалах связанных с Diglossa. Авторский текст представляет из себя простой текст (plain text) или ")),t(p,{to:"/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html"},{default:n(()=>e[7]||(e[7]=[s("текст с минимальной разметкой")])),_:1}),e[9]||(e[9]=s(". Такой текст удобнее всего хранить в ")),e[10]||(e[10]=a("a",{href:"https://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D1%8F%D0%BC%D0%B8",target:"_blank",rel:"noopener noreferrer"},"системе управления версиями",-1)),e[11]||(e[11]=s(". Затем к такому тексту может быть добавлена дополнительная информация в виде «слоёв». В самой простейшей реализации, слой может представлять из себя набор позиций в тексте и информацию которую нужно в эти позиции добавить, например, ссылки на примечания."))]),e[14]||(e[14]=i('<p>Слои могут добавлять любую информацию и теоретически даже скрывать или изменять части текста.</p><blockquote><p>В «Диглоссе» к исходному тексту могут быть добавлены, например, параллельные тексты целиком или любой текст к любому месту в исходном тексте. Основной целью при создании «Диглоссы» была работа с параллельными текстами. Однако параллельные тексты являются лишь одним из примеров слоя. Другие примеры: предисловия и справочники, комментарии, пагинации, логические разметки, картинки и примечания издателей, любая мета-информация и режим учебника, когда исходный текст представляется вставками, цитатами в обрамлении нового текста. (Эти возможности будут добавляться постепенно в следующих версиях.) Использовать сложную систему слоев без необходимости не обязательно.<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p></blockquote><p>Такой подход решает следующие проблемы:</p><ul><li>Авторское право не нарушается, в плане модификации произведения. Текст остаётся в неизменном виде, все изменения распространяются отдельно в виде слоёв;</li><li>Исходный текст не модифицируется и может быть легко проверен по первоисточнику (если сохранилась связь со сканом, которая тоже может быть представлена в виде слоя);</li><li>Слои можно создавать отдельно от произведения, для разных целей, разными людьми, можно представить себе коллективное редактирование слоёв по wiki-принципам.</li></ul><p>Расширяя идею слоёв дальше, можно, представить себе систему которая позволит включать или выключать отдельные слои (например, как сейчас делается в онлайн картах)а затем пользоваться результатом или экспортировать результат в подходящий формат: PDF, fb2 и др.</p><p>Пример <a href="https://yandex.com/maps/" target="_blank" rel="noopener noreferrer">Яндекс-карт</a> с выключенными и включенными слоями отображающими пробки и общественный транспорт:</p><figure><img src="'+h+'" alt="" tabindex="0"><figcaption></figcaption></figure><figure><img src="'+b+'" alt="" tabindex="0"><figcaption></figcaption></figure><figure><img src="'+v+'" alt="" tabindex="0"><figcaption></figcaption></figure><p>Мне не удалось найти в интерфейсе Diglossa элементов связанных со слоями, их созданием, включением или каких-либо других. Возможно, этот функционал ещё не реализован.</p><p>Технически, реализация слоёв представляет определённые сложности и требует анализа выходящего за рамки этого обзора, но хотелось бы кратко отметить некоторые из них:</p><ul><li><p>Даже выверенные тексты могут редактироваться, например, при нахождении опечаток, поэтому если слой ориентируется просто на позицию в тексте (номера символов) то слой будет подходит только к определённой версии текста. Возможно, реализуем алгоритм автоматического обновления слоёв при изменении исходного текста;</p></li><li><p>Возможны конфликты слоёв друг с другом.</p></li></ul><h2 id="параллельные-тексты" tabindex="-1"><a class="header-anchor" href="#параллельные-тексты"><span>Параллельные тексты</span></a></h2><p>Diglossa позволяет подготавливать и читать параллельные тексты.</p><figure><img src="'+q+'" alt="" tabindex="0"><figcaption></figcaption></figure><p>Для подготовки параллельных текстов присутствует режим редактирования (запускается по <code>ctrl+e</code>).</p><figure><img src="'+B+'" alt="" tabindex="0"><figcaption></figcaption></figure><p>В верхней части экрана видно количество блоков теста (обычно, абзацев) в текущем разделе текста (например, главе), в тексте слева и в тексте справа. Если цифры не совпадают, то вероятно, с параллельным переводом что-то неверно.</p><p>В редакторе можно разделять, удалять и склеивать абзацы чтобы добиться «параллельности» в текстах. Это ручной способ, так же есть автоматизированные.</p><blockquote><p>Реализованы два механизма авто-преверки синхронизации абзацев — сложный, с проверкой соответствия стемов абзаца, требующий коннекта с сетью и создания словарей соответствия стемов словоформ языковых пар. И простой, на основе сравнения длины строки абзаца, числа фраз и пр. формальных признаков. Оказалось, что простой метод даёт неплохие результаты и вполне годен к применению в реальной практике. Собственно, авто-синхронизация есть убойная фича, делающая всё вышеописанное реальным. <sup class="footnote-ref"><a href="#fn1" id="fnref1:2">[1:2]</a></sup></p></blockquote><p>Проверить автоматизированные средства сопоставления не удалось. Возможно, используемые алгоритмы сопоставления представляют интерес для реализации средств синхронизации параллельных текстов.</p><p>После того как абзацы сопоставлены книгу можно экспортировать в dlg-формат. Важно подчеркнуть, что для импорта или отображения параллельной книги из dlg-формата или его аналогов нет необходимости использовать базу данных. Вся информация необходимая для отображения уже содержится в Mrakdown-файлах — деление файлов на абзацы. Кроме файлов требуется только определённый алгоритм деления файлов на блоки, например, используемый Diglossa, при котором все блоки находятся на одном уровне — отсутствует иерархия (возможно, за исключением оглавления).</p><p>Diglossa обладает средствами для создания параллельных текстов когда в наличии есть тексты на разных языках, но не предоставляет особенных средств для создания переводов.</p><h2 id="словари" tabindex="-1"><a class="header-anchor" href="#словари"><span>Словари</span></a></h2><p>Отдельным крупным разделом Diglossa являются словари. Помимо простой загрузки словарей в Diglossa есть инструменты для их генерации. В качестве исходных данных для словарей используются <a href="https://www.wiktionary.org" target="_blank" rel="noopener noreferrer">wiktionary.org</a> или данные самой книги. Опубликованные инструменты относятся к следующим языкам: греческий, латинский, санскрит, тибетский, китайский.</p><p>Некоторые инструменты можно использовать отдельно от Diglossa, <a href="http://anthrax.diglossa.org/%E1%BC%80%CE%B3%CE%B1%CE%B8%CE%BF%CF%80%CE%BF%CE%B9%CE%AD%CF%89" target="_blank" rel="noopener noreferrer">например</a> веб-приложение <a href="https://github.com/mbykov/anthrax" target="_blank" rel="noopener noreferrer">anthrax</a> как словарь греческого языка:</p><figure><img src="'+k+'" alt="" tabindex="0"><figcaption></figcaption></figure><p>Другой пример — контекстные словари Morpheus:</p><blockquote><p>Для работы достаточно скопировать тибетский текст (utf-8) где угодно на десктопе и затем провести мышкой над тибетской фразой в «Морфее». Справа будут показаны значения из активированных словарей и (возможно) служебные частицы в составе слова. Иногда Pecha.js не может определить словарный состав фразы однозначно, возникает всплывающее окошко для выбора варианта. (Отмечается слегка розовым цветом.) Также можно проанализировать состав правильно определенного сложного слова из нескольких слогов, кликнув на нем. В его структуре тоже могут оказаться неоднозначности. В результате возникает забавная лесенка вариантов состава слова, вплоть до слов из одного слога, самых древних. В целом это дает отличный инструмент для конструирования возможного смысла слова и представление о его возникновении и развитии.<sup class="footnote-ref"><a href="#fn2" id="fnref2:1">[2:1]</a></sup></p></blockquote><figure><img src="'+x+'" alt="" tabindex="0"><figcaption></figcaption></figure><p>Словари можно использовать в Diglossa при чтении обычных и параллельных книг. В описании есть интересная идея модификации словаря для отдельного текста. По сути, это похоже на идею слоёв, только для словарей.</p><blockquote><p>Тем не менее задача постепенно решается, и в будущих версиях «Морфеи» будут иметь возможность генерации локального авторского словаря в виде файла-пустографки, в каждую строку (словарную статью) которой автор сможет добавить свой перевод, актуальный только для данного текста. И затем его опубликовать в один клик для использования другими читателями данного текста и возможной совместной дальнейшей работы.<sup class="footnote-ref"><a href="#fn2" id="fnref2:2">[2:2]</a></sup></p></blockquote><h2 id="заключение" tabindex="-1"><a class="header-anchor" href="#заключение"><span>Заключение</span></a></h2><p>В Diglossa заложены перспективные идеи связанные с интернациональными текстами: параллельные переводы и словари. Кроме того идея слоев может помочь в решении текущих проблем с авторским правом, а так же коллективным добавлением текстологических и других комментариев.</p><p>Не все идеи на данный момент реализованы, часть функций выглядит ещё сырой. На данный момент проект Diglossa выглядит прототипом, <a href="https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_%D0%BA%D0%BE%D0%BD%D1%86%D0%B5%D0%BF%D1%86%D0%B8%D0%B8" target="_blank" rel="noopener noreferrer">проверкой концепции</a>. Это важный шаг, чтобы проверить идеи на работоспособность и полезность. С точки зрения текстологии особый интерес представляют алгоритмы работы со слоями, параллельными текстами и словарями.</p><blockquote><p>Таким образом, я надеюсь, Diglossa.js и семейство «Морфей» являются неким предварительным прообразом библиотеки будущего, когда распространяется не книга в переплете, а только лишь необходимая часть текста с необходимым адекватным аппаратом и адекватным локальным словарем.<sup class="footnote-ref"><a href="#fn2" id="fnref2:3">[2:3]</a></sup></p></blockquote><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://0x1.tv/Diglossa.js_%E2%80%94_%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82_%D0%BC%D0%B5%D0%B4%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE_%D1%87%D1%82%D0%B5%D0%BD%D0%B8%D1%8F_(%D0%9C%D0%B8%D1%85%D0%B0%D0%B8%D0%BB_%D0%91%D1%8B%D0%BA%D0%BE%D0%B2,_OSSDEVCONF-2021)" target="_blank" rel="noopener noreferrer">Diglossa.js — инструмент медленного чтения, Михаил Быков, OSSDEVCONF-2021</a> <a href="#fnref1" class="footnote-backref">↩︎</a> <a href="#fnref1:1" class="footnote-backref">↩︎</a> <a href="#fnref1:2" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p><a href="http://samag.ru/archive/article/3826" target="_blank" rel="noopener noreferrer">«Диглосса» и «Морфей»: герменевтика, plain text и локальные словари (2019)</a> <a href="#fnref2" class="footnote-backref">↩︎</a> <a href="#fnref2:1" class="footnote-backref">↩︎</a> <a href="#fnref2:2" class="footnote-backref">↩︎</a> <a href="#fnref2:3" class="footnote-backref">↩︎</a></p></li></ol></section>',38))])}const F=d(_,[["render",E]]),N=JSON.parse('{"path":"/textreview-diglossa.html","title":"Текстобзор: Diglossa","lang":"ru-RU","frontmatter":{"title":"Текстобзор: Diglossa","date":"2022-10-07","categories":["текстология"],"tags":["текстобзор"]},"git":{"updatedTime":1744706893000,"contributors":[{"name":"KonstantinSh","username":"KonstantinSh","email":"Kverde@yandex.ru","commits":2,"url":"https://github.com/KonstantinSh"},{"name":"Petro","username":"Petro","email":"petrovdrm86@yandex.ru","commits":3,"url":"https://github.com/Petro"}],"changelog":[{"hash":"f41b0ea20775cdcba36cfc2704b2899f24ac185d","time":1744706893000,"email":"petrovdrm86@yandex.ru","author":"Petro","message":"Update textreview-diglossa.md"},{"hash":"e94f74b27f77625c64527746e76a4d798f6ec793","time":1744704005000,"email":"petrovdrm86@yandex.ru","author":"Petro","message":"Update textreview-diglossa.md"},{"hash":"3a4919cd9168b0dc930909dd1483939adbb9ad68","time":1744698863000,"email":"petrovdrm86@yandex.ru","author":"Petro","message":"upd"},{"hash":"f7461f81110c080a3b92c6432a919965b7487493","time":1667551660000,"email":"Kverde@yandex.ru","author":"KonstantinSh","message":"Добавлены даты и обнволены описания"},{"hash":"8060c508271f1848437607641fd629bdd5467bbd","time":1667551246000,"email":"Kverde@yandex.ru","author":"KonstantinSh","message":"Добавлены материалы"}]},"filePathRelative":"textreview-diglossa.md"}');export{F as comp,N as data};
