import{_ as a,c as t,a as n,b as i,t as l,o as p}from"./app-3vC-laG6.js";const r={},d={id:"frontmatter-title",tabindex:"-1"},o={class:"header-anchor",href:"#frontmatter-title"};function c(s,e){return p(),t("div",null,[n("h1",d,[n("a",o,[n("span",null,l(s.$frontmatter.title),1)])]),e[0]||(e[0]=i(`<p>Рассмотрим способы получения информации об ошибка при конвертации файлов через <a href="https://pandoc.org/" target="_blank" rel="noopener noreferrer">Pandoc</a>.</p><p>Попробуем конвертировать md-файл в html:</p><div class="language-bat line-numbers-mode" data-highlighter="prismjs" data-ext="bat"><pre><code><span class="line">pandoc input01.md -f markdown -t html -s -o output.html</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Появляется предупреждение:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">[WARNING] This document format requires a nonempty &lt;title&gt; element.</span>
<span class="line">  Defaulting to &#39;input01&#39; as the title.</span>
<span class="line">  To specify a title, use &#39;title&#39; in metadata or --metadata title=&quot;...&quot;.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Файл всё равно будет конвертирован. Причем <code>pandoc</code> завершит работу без кода ошибки. Если нужно чтобы в случае предупреждения код ошибки был не равен 0, то используйте команду <code>--fail-if-warnings</code>:</p><div class="language-bat line-numbers-mode" data-highlighter="prismjs" data-ext="bat"><pre><code><span class="line">pandoc input01.md --fail-if-warnings -f markdown -t html -s -o output.html</span>
<span class="line"></span>
<span class="line">echo %errorlevel%</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Результатом будет:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">[WARNING] This document format requires a nonempty &lt;title&gt; element.</span>
<span class="line">  Defaulting to &#39;input01&#39; as the title.</span>
<span class="line">  To specify a title, use &#39;title&#39; in metadata or --metadata title=&quot;...&quot;.</span>
<span class="line">Failing because there were warnings.</span>
<span class="line"></span>
<span class="line">echo 3</span>
<span class="line">3</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Код ошибки 3 — <a href="https://pandoc.org/MANUAL.html#exit-codes" target="_blank" rel="noopener noreferrer">специальный код ошибки</a> для предупреждений.</p><p>Параметр <code>--quiet</code> скрывает предупреждения:</p><div class="language-bat line-numbers-mode" data-highlighter="prismjs" data-ext="bat"><pre><code><span class="line">pandoc input01.md --quiet -f markdown -t html -s -o output.html</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Параметры <code>--fail-if-warnings</code> и <code>--quiet</code> могут работать одновременно: предупреждения не будут выводится, но код ошибки изменится.</p><p>Для более детального вывода испольуйте параметр <code>--verbose</code>:</p><div class="language-bat line-numbers-mode" data-highlighter="prismjs" data-ext="bat"><pre><code><span class="line">pandoc input01.md --verbose -f markdown -t html -s -o output.html</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Дополнительно будут выведены информационные сообщения:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">[INFO] No value for &#39;lang&#39; was specified in the metadata.</span>
<span class="line">  It is recommended that lang be specified for this format.</span>
<span class="line">[WARNING] This document format requires a nonempty &lt;title&gt; element.</span>
<span class="line">  Defaulting to &#39;input01&#39; as the title.</span>
<span class="line">  To specify a title, use &#39;title&#39; in metadata or --metadata title=&quot;...&quot;.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Детальный вывод особенно полезен при отладке конвертации в PDF.</p><p>Все виды сообщений можно дополнительно вывести в файл. Имя файла задаётся параметром <code>--log=FILE_NAME</code>:</p><div class="language-bat line-numbers-mode" data-highlighter="prismjs" data-ext="bat"><pre><code><span class="line">pandoc input01.md --verbose --log=log.txt -f markdown -t html -s -o output.html</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Файл будет содержать данные в JSON:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NoLangSpecified&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;verbosity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INFO&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NoTitleElement&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;verbosity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WARNING&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;fallback&quot;</span><span class="token operator">:</span> <span class="token string">&quot;input01&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ссылки" tabindex="-1"><a class="header-anchor" href="#ссылки"><span>Ссылки</span></a></h2><ul><li><a href="https://pandoc.org/MANUAL.html" target="_blank" rel="noopener noreferrer">Pandoc manual</a></li></ul>`,24))])}const m=a(r,[["render",c]]),v=JSON.parse('{"path":"/pandoc-debug.html","title":"Отладка ошибок конвертации в Pandoc","lang":"ru-RU","frontmatter":{"title":"Отладка ошибок конвертации в Pandoc","date":"2021-01-04","categories":["Программы"],"tags":["pandoc"]},"git":{"updatedTime":1669020793000,"contributors":[{"name":"KonstantinSh","username":"KonstantinSh","email":"Kverde@yandex.ru","commits":1,"url":"https://github.com/KonstantinSh"}],"changelog":[{"hash":"8342e1d9d45fa4a7c1259710619554f6d28a0559","time":1669020793000,"email":"Kverde@yandex.ru","author":"KonstantinSh","message":"Добавлены инструкции к Pandoc"}]},"filePathRelative":"pandoc-debug.md"}');export{m as comp,v as data};
