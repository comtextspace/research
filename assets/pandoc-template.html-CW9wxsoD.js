import{_ as r,c as p,a as s,b as i,t as o,e as n,d as l,w as t,r as c,o as m}from"./app-3vC-laG6.js";const u={},v={id:"frontmatter-title",tabindex:"-1"},b={class:"header-anchor",href:"#frontmatter-title"};function h(d,e){const a=c("RouteLink");return m(),p("div",null,[s("h1",v,[s("a",b,[s("span",null,o(d.$frontmatter.title),1)])]),s("p",null,[e[1]||(e[1]=n("При генерации ")),l(a,{to:"/pandoc-basic.html"},{default:t(()=>e[0]||(e[0]=[n("целого документа")])),_:1}),e[2]||(e[2]=n(" (параметр ")),e[3]||(e[3]=s("code",null,"-s",-1)),e[4]||(e[4]=n(") Pandoc выводит данные в шаблон. Для каждого выходного формата шаблоны разные. Чтобы посмотреть шаблон используйте команду"))]),e[8]||(e[8]=i(`<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">pandoc -D *FORMAT*</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Например</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">pandoc -D markdown</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Вывод будет следующий</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">$if(titleblock)$ $titleblock$</span>
<span class="line"></span>
<span class="line">$endif$ $for(header-includes)$ $header-includes$</span>
<span class="line"></span>
<span class="line">$endfor$ $for(include-before)$ $include-before$</span>
<span class="line"></span>
<span class="line">$endfor$ $if(toc)$ $table-of-contents$</span>
<span class="line"></span>
<span class="line">$endif$ $body$ $for(include-after)$</span>
<span class="line"></span>
<span class="line">$include-after$ $endfor$</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Последние версии всех шаблонов хранятся в <a href="https://github.com/jgm/pandoc-templates/" target="_blank" rel="noopener noreferrer">репозитории</a>.</p><p>Можно использовать не только стандартный шаблон, а сделать свой. Создадим файл <code>template01.md</code> с самым простым шаблоном, который просто выведет весь документ:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">$body$</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>И запустим конвертацию с параметром <code>--template</code>:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">pandoc -o output.md -f markdown -t markdown -s --template template01.md input01.md</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,10)),s("p",null,[e[6]||(e[6]=n("В шаблонах можно использовать переменные, такие как title, например, заданные в ")),l(a,{to:"/pandoc-metadata.html"},{default:t(()=>e[5]||(e[5]=[n("файле метаданных")])),_:1}),e[7]||(e[7]=n(". Изменим шаблон:"))]),e[9]||(e[9]=i(`<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line"># $title$</span>
<span class="line"></span>
<span class="line">$body$</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>И добавим <code>metadata.yaml</code>:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">title: Заголовок</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Запускаем командой:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">pandoc -o output.md -f markdown -t markdown -s --template template02.md --metadata-file=metadata.yaml input01.md</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>В результате, получаем заполненный заголовок.</p><p>Переменные можно задавать через параметры</p><ul><li><code>-V KEY[=VAL]</code></li><li><code>--variable=KEY[:VAL]</code></li></ul><p>Снова изменим шаблон</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">* $item1$</span>
<span class="line">* $item2$</span>
<span class="line"></span>
<span class="line">$body$</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>И добавим переменные:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">pandoc -o output.md -f markdown -t markdown -s --template template03.md -V item1=Apple -V item2=Tomato input01.md</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>На выходе получаем</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">* Apple</span>
<span class="line">* Tomato</span>
<span class="line"></span>
<span class="line">[текст документа]</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ссылки" tabindex="-1"><a class="header-anchor" href="#ссылки"><span>Ссылки</span></a></h2><ul><li><a href="https://pandoc.org/MANUAL.html#templates" target="_blank" rel="noopener noreferrer">Шаблоны Pandoc</a></li></ul>`,16))])}const $=r(u,[["render",h]]),x=JSON.parse('{"path":"/pandoc-template.html","title":"Шаблоны и переменные Pandoc","lang":"ru-RU","frontmatter":{"title":"Шаблоны и переменные Pandoc","date":"2021-01-21","categories":["Программы"],"tags":["pandoc"]},"git":{"updatedTime":1669020793000,"contributors":[{"name":"KonstantinSh","username":"KonstantinSh","email":"Kverde@yandex.ru","commits":1,"url":"https://github.com/KonstantinSh"}],"changelog":[{"hash":"8342e1d9d45fa4a7c1259710619554f6d28a0559","time":1669020793000,"email":"Kverde@yandex.ru","author":"KonstantinSh","message":"Добавлены инструкции к Pandoc"}]},"filePathRelative":"pandoc-template.md"}');export{$ as comp,x as data};
