import{_ as o,c as l,a,b as s,e as D,d as r,w as t,r as B,o as p}from"./app-3vC-laG6.js";const h="/images/%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BC%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85-%D1%84%D0%BE%D1%80%D0%BC%D1%83%D0%BB-%D0%B2-%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82%D0%B0%D1%85-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B9-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-1.png",d="/images/%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BC%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85-%D1%84%D0%BE%D1%80%D0%BC%D1%83%D0%BB-%D0%B2-%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82%D0%B0%D1%85-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B9-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-2.png",_="/images/%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BC%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85-%D1%84%D0%BE%D1%80%D0%BC%D1%83%D0%BB-%D0%B2-%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82%D0%B0%D1%85-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B9-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-3.png",f={},u={class:"table-of-contents"};function m(g,e){const i=B("RouteLink"),n=B("router-link");return p(),l("div",null,[e[11]||(e[11]=a("h1",{id:"использование-математических-формул-в-результатах-текстологическои-работы",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#использование-математических-формул-в-результатах-текстологическои-работы"},[a("span",null,"Использование математических формул в результатах текстологической работы")])],-1)),e[12]||(e[12]=a("p",null,[a("strong",null,"26.07.2025")],-1)),e[13]||(e[13]=a("figure",null,[a("img",{src:h,alt:"Пример математических формул в книге Н. И. Ведуты «Экономическая-кибернетика»",tabindex:"0"}),a("figcaption",null,"Пример математических формул в книге Н. И. Ведуты «Экономическая-кибернетика»")],-1)),a("p",null,[e[1]||(e[1]=D("Рассмотрим, как лучше всего включать математические формулы в результаты текстологической работы. За отправную точку возьмём использование облегчённых языков разметки (например, Markdown) — это удобно для хранения, редактирования и последующей конвертации текстов. Обоснование такого подхода — в статье ")),r(i,{to:"/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html"},{default:t(()=>e[0]||(e[0]=[D("«Технические аспекты текстологии»")])),_:1}),e[2]||(e[2]=D("."))]),a("nav",u,[a("ul",null,[a("li",null,[r(n,{to:"#изображения"},{default:t(()=>e[3]||(e[3]=[D("Изображения")])),_:1})]),a("li",null,[r(n,{to:"#простые-текстовые-форматы"},{default:t(()=>e[4]||(e[4]=[D("Простые текстовые форматы")])),_:1})]),a("li",null,[r(n,{to:"#другие-форматы-записи-формул"},{default:t(()=>e[5]||(e[5]=[D("Другие форматы записи формул")])),_:1})]),a("li",null,[r(n,{to:"#инструменты"},{default:t(()=>e[6]||(e[6]=[D("Инструменты")])),_:1})]),a("li",null,[r(n,{to:"#форматы-электронных-книг"},{default:t(()=>e[7]||(e[7]=[D("Форматы электронных книг")])),_:1})]),a("li",null,[r(n,{to:"#средства-ввода"},{default:t(()=>e[8]||(e[8]=[D("Средства ввода")])),_:1})]),a("li",null,[r(n,{to:"#использование-unicode"},{default:t(()=>e[9]||(e[9]=[D("Использование Unicode")])),_:1})]),a("li",null,[r(n,{to:"#резюме"},{default:t(()=>e[10]||(e[10]=[D("Резюме")])),_:1})])])]),e[14]||(e[14]=s(`<h2 id="изображения" tabindex="-1"><a class="header-anchor" href="#изображения"><span>Изображения</span></a></h2><p>Очевидно, что хранить формулы в виде растровых изображений — плохая идея. Такой формат затрудняет редактирование, контроль изменений и конвертацию в другие форматы.</p><p>Векторные изображения, например SVG, подходят лучше, но у них те же недостатки. Главный — семантический: нужно хранить не изображение формулы, а саму формулу. Из этого вытекают и другие проблемы: сложно сравнивать версии, а для просмотра и редактирования сложных формул уже недостаточно простого текстового редактора.</p><h2 id="простые-текстовые-форматы" tabindex="-1"><a class="header-anchor" href="#простые-текстовые-форматы"><span>Простые текстовые форматы</span></a></h2><p>Для записи формул в текстовом виде распространены два подхода: <a href="https://asciimath.org" target="_blank" rel="noopener noreferrer">AsciiMath</a> и форматы, основанные на <a href="https://ru.wikipedia.org/wiki/TeX" target="_blank" rel="noopener noreferrer">TeX</a>.</p><p>AsciiMath разработан с прицелом на читаемость — формулы пишутся с помощью обычных символов клавиатуры и легко воспринимаются в сыром виде.</p><p>Пример AsciiMath:</p><div class="language-asciimath line-numbers-mode" data-highlighter="prismjs" data-ext="asciimath"><pre><code><span class="line">sum_(i=1)^n i^3=((n(n+1))/2)^2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Этот текст означает следующую формулу:</p><figure><img src="`+d+`" alt="Формула на AsciiMath" tabindex="0"><figcaption>Формула на AsciiMath</figcaption></figure><p>Возможности AsciiMath можно изучить на <a href="https://asciimath.org" target="_blank" rel="noopener noreferrer">официальном сайте</a> или в <a href="https://christopherball.github.io/math/asciiMath/" target="_blank" rel="noopener noreferrer">онлайн-редакторе</a>.</p><p>TeX (читается «тех») — система компьютерной вёрстки, ориентированная на печать. В отличие от Markdown, она изначально задумывалась для создания книг и научных текстов. Возможность ввода формул — лишь часть её функционала. На практике редко используют «чистый» TeX: чаще применяют его расширения, особенно <a href="https://ru.wikipedia.org/wiki/LaTeX" target="_blank" rel="noopener noreferrer">LaTeX</a> («латех»).</p><p>Пример формулы на LaTeX:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">\\int_{-\\infty}^{\\infty} e^{-x^2} \\, dx = \\sqrt{\\pi}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Этот текст означает следующую формулу:</p><figure><img src="`+_+'" alt="Формула на LaTerX" tabindex="0"><figcaption>Формула на LaTerX</figcaption></figure><p>AsciiMath проще в освоении и выглядит понятнее в текстовом виде, чем LaTeX. Но по возможностям, особенно в сложной математике, LaTeX заметно превосходит. Кроме того LaTeX лучше поддерживается, имеет больше инструментов и шире распространён.</p><p>Для оцифрованных книг подходят оба формата. Возможно, текстологический формат должен поддерживать и AsciiMath и LaTeX. Если выбирать один, предпочтительнее LaTeX.</p><h2 id="другие-форматы-записи-формул" tabindex="-1"><a class="header-anchor" href="#другие-форматы-записи-формул"><span>Другие форматы записи формул</span></a></h2><p>Существует способ записи формул в формате <a href="https://ru.wikipedia.org/wiki/MathML" target="_blank" rel="noopener noreferrer">MathML</a> основанном на XML. Формат широко применяется как внутренний формат хранения (например, в LibreOffice) или как промежуточный формат при конвертации. Для ручного ввода формул формат не удобен.</p><p>Преимущества MathML в том, что его хоть и ограничено, но поддерживают браузеры.</p><p>Существуют и <a href="https://en.wikipedia.org/wiki/Category:Mathematical_markup_languages" target="_blank" rel="noopener noreferrer">другие математические языки разметки</a>, некоторые из них представляют интерес, например, <a href="https://mathlive.io/math-json/" target="_blank" rel="noopener noreferrer">MathJson</a>, но в целом они значительно меньше распространены.</p><h2 id="инструменты" tabindex="-1"><a class="header-anchor" href="#инструменты"><span>Инструменты</span></a></h2><p>Универсальных инструментов для визуализации формул из текстового представления не так много. Наиболее популярные — <a href="https://www.mathjax.org" target="_blank" rel="noopener noreferrer">MathJax</a> и <a href="https://katex.org" target="_blank" rel="noopener noreferrer">KaTeX</a>.</p><p>MathJax принимает TeX, AsciiMath и MathML, а на выходе генерирует HTML+CSS, SVG или MathML. Поддержка TeX — полная, включая расширения. Проверить, как формула отобразится, можно <a href="https://www.tuhh.de/MathJax/test/sample-dynamic.html" target="_blank" rel="noopener noreferrer">здесь</a>.</p><p>KaTeX работает только с частью LaTeX-синтаксиса и выдаёт только HTML+CSS. Зато он значительно быстрее MathJax. Протестировать его можно прямо на <a href="https://katex.org" target="_blank" rel="noopener noreferrer">сайте KaTeX</a>.</p><p>Существуют производные инструменты. Например, <a href="https://gitlab.wikimedia.org/repos/mediawiki/services/mathoid" target="_blank" rel="noopener noreferrer">Mathoid</a>, используемый в <a href="https://ru.wikipedia.org/wiki/MediaWiki" target="_blank" rel="noopener noreferrer">MediaWiki</a>, построен на <a href="https://github.com/mathjax/MathJax-node" target="_blank" rel="noopener noreferrer">MathJax для Node.js</a>.</p><p>Сейчас для веб-сайтов оптимально использовать MathJax или KaTeX. Исходные формулы пишутся на AsciiMath или LaTeX, а при генерации сайта преобразуются в HTML+CSS.</p><h2 id="форматы-электронных-книг" tabindex="-1"><a class="header-anchor" href="#форматы-электронных-книг"><span>Форматы электронных книг</span></a></h2><p>Поддержка формул в электронных книгах — слабое место. FB2 и EPUB могут включать MathML, но многие программы и устройства не поддерживают этот формат.</p><p>Единственный универсальный способ — превращать формулы в растровые изображения и вставлять в книгу как картинки. Альтернатива — выпускать несколько версий: <code>EPUB+PNG</code>, <code>EPUB+SVG</code>, <code>EPUB+MathML</code> и т. д.</p><h2 id="средства-ввода" tabindex="-1"><a class="header-anchor" href="#средства-ввода"><span>Средства ввода</span></a></h2><p>Существуют инструменты для удобного ввода формул: <a href="http://mathquill.com" target="_blank" rel="noopener noreferrer">MathQuill</a>, <a href="https://mathlive.io/mathfield/" target="_blank" rel="noopener noreferrer">MathField</a>. Они полезны при разработке систем автоматизации вычитки и исправления опечаток. Но если работа ведётся в простых текстовых файлах, эти редакторы не нужны.</p><h2 id="использование-unicode" tabindex="-1"><a class="header-anchor" href="#использование-unicode"><span>Использование Unicode</span></a></h2><p>Для простых выражений можно обойтись без формул — использовать символы Юникода:</p><ul><li>½ + ¼ = ¾</li><li>5² = 25</li><li>√(x² + y²) = z</li><li>Δt = t₁ − t₀</li></ul><p>Этот способ подходит только для базовых случаев. Но он помогает избежать сложной разметки там, где она не нужна.</p><p>Подробнее о математических шрифтах — в <a href="https://type.today/ru/journal/mathfonts" target="_blank" rel="noopener noreferrer">статье на type.today</a>.</p><h2 id="резюме" tabindex="-1"><a class="header-anchor" href="#резюме"><span>Резюме</span></a></h2><p>Для хранения формул в оцифрованных книгах лучший выбор — LaTeX, на втором месте — AsciiMath.</p><p>С инструментами для отображения ситуация сложнее. В вебе — MathJax или KaTeX. При экспорте в электронные книги чаще всего приходится конвертировать формулы в изображения.</p>',41))])}const b=o(f,[["render",m]]),M=JSON.parse('{"path":"/%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BC%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85-%D1%84%D0%BE%D1%80%D0%BC%D1%83%D0%BB-%D0%B2-%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82%D0%B0%D1%85-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B9-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B.html","title":"Использование математических формул в результатах текстологической работы","lang":"ru-RU","frontmatter":{},"git":{"updatedTime":1753724274000,"contributors":[{"name":"Petro","username":"Petro","email":"petrovdrm86@yandex.ru","commits":2,"url":"https://github.com/Petro"}],"changelog":[{"hash":"abd89c1c4c855745b67559bb845068ec08fe85fa","time":1753724274000,"email":"petrovdrm86@yandex.ru","author":"Petro","message":"upd"},{"hash":"5e7f9b3886a800b6b25239f341f45169db9cadca","time":1753451797000,"email":"petrovdrm86@yandex.ru","author":"Petro","message":"upd"}]},"filePathRelative":"использование-математических-формул-в-результатах-текстологической-работы.md"}');export{b as comp,M as data};
