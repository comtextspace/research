---
title: "Опции Pandoc: file-scope, preserve-tabs, tab-stop"
date: "2021-01-09"
categories: 
  - "Программы"
tags: 
  - "pandoc"
---

# {{ $frontmatter.title }}

Рассмотрим несколько параметров [Pandoc](https://pandoc.org/).

## file-scope

Существует два способа конвертации одного документа из нескольких файлов:

- сначала соединить все файлы в один, а потом конвертировать
- конвертировать все файлы по отдельности, а потом соединить.

По умолчанию Pandoc использует первый вариант.

Например, если отдельные файлы будут содержать дублирующиеся номера примечаний то Pandoc выдаст предупреждение.

В файле `input01.md`:

```
Согласно предыдущему, гомеостаз индуктивно иллюстрирует гедонизм. Страх притягивает субъективный язык образов. Аутотренинг, как справедливо считает Ф.Энгельс, подчеркивает сенсибельный катарсис. Даосизм конфронтально понимает под собой интеллект. Заблуждение, как принято считать, транспонирует субъективный смысл жизни, также это подчеркивается в труде Дж.Морено "Театр Спонтанности"[^1].

[^1]: В самом общем случае заблуждение дискредитирует дедуктивный метод.
```

В файле `input02.md`:

```
Освобождение осмысленно подрывает непредвиденный конфликт. Гештальтпсихология подчеркивает бабувизм, изменяя привычную реальность. Моцзы, Сюнъцзы и другие считали, что дедуктивный метод заполняет дедуктивный метод. Интеллект оспособляет данный дедуктивный метод. Интеллект, как следует из вышесказанного, выводит даосизм, отрицая очевидное[^1].

[^1]: Дуализм методологически преобразует естественный дуализм.
```

Команда конвертации:

```
pandoc input01.md input02.md -f markdown -t docx -s -o output.docx
```

Ошибка:

```
[WARNING] Duplicate note reference '1' at line 18 column 1
```

Опция `--file-scope` заставляет Pandoc сначала обработать каждый файл отдельно, а потом соединить их в один файл:

```
pandoc input01.md input02.md --file-scope -f markdown -t docx -s -o output.docx
```

## preserve-tabs и tab-stop

По умолчанию Pandoc заменяет символы табуляции внутри текста на пробелы, а табы внутри блоков кода на 4 пробела.

Опция `--preserve-tabs` оставляет табы внутри блоков кода без изменения, а опция `--tab-stop=NUMBER` изменяет количество пробелов на которые заменяется один символ табуляции.

```
pandoc input03.md -f markdown -t html -s --preserve-tabs -o output.html
pandoc input03.md -f markdown -t html --tab-stop=2 -s -o output.html
```

## Ссылки

- [Pandoc Manual](https://pandoc.org/MANUAL.html).
