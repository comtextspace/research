---
title: "Текстобзор: Викитека (wikisource.org)"
date: "2022-11-14"
categories: 
  - "текстология"
tags: 
  - "текстобзор"
---

# {{ $frontmatter.title }}

**14.11.2022**

[[TOC]]

## Описание

[Wikisource](https://ru.wikisource.org) (Викитека) — это библиотека основанная на wiki-технологиях, основанная [Фондом Викимедиа](https://ru.wikipedia.org/wiki/Фонд_Викимедиа) в 2003 году. Викитека предназначена для хранения:

> 1. Текстов, ранее уже опубликованных авторами в печати.
> 2. Переводов оригинальных текстов.
> 3. Исторических документов национального и международного масштаба.
> 4. Библиографий авторов, чьи работы хранятся в Викитеке. [^1]

[^1]: [Что такое Викитека?](https://ru.wikisource.org/wiki/Справка:Что_такое_Викитека%3F)

Викитека делится на языковые разделы, в самых крупных разделах больше 100000 страниц

![wikisource_01.png](images\textreview\wikisource\wikisource_02.png)

* [Статистика русскоязычного раздела](https://ru.wikisource.org/wiki/Служебная:Статистика)

* [Статистика англоязычного раздела](https://en.wikisource.org/wiki/Special:Statistics)

Количество страниц не равно количеству книг, например, одна книга может разделена на несколько страницы с отдельными главами, поэтому трудно оценить общее количество оцифрованных материалов.

Количество просмотров страниц можно увидеть через отдельный сервис [Wikistats](https://stats.wikimedia.org/#/ru.wikibooks.org/reading/total-page-views/normal|bar|2-year|~total|monthly).

Языковые разделы различаются языком пользовательского интерфейса, языком размещаемых материалов. В разных языков разделах так же могут различаться инструкции, шаблоны и настройки системы.

## Авторские права

Как и в других проектах фонда Викимедиа, в Викитеке запрещено размещать материалы нарушающие авторские права и экстремистские материалы.

Для каждого размещаемого материала обязательно должен быть определен и правильно оформлен вид лицензирования. Для помощи в определении типа лицензирования описаны [подробные инструкции](https://ru.wikisource.org/wiki/Викитека:Авторские_права).

Существует [набор шаблонов](https://ru.wikisource.org/wiki/Справка:Шаблоны#Авторские_права) для часто используемых лицензий, при их применении достаточно указать название шаблона и на странице отобразиться полная информация о лицензировании. [Пример](https://ru.wikisource.org/wiki/Файл:Герберштейн_-_Записки_о_Московии.djvu):

![wikisource_01.png](images\textreview\wikisource\wikisource_04.png)

## Файлы и изображения

Книги в Викитеку можно загрузить из PDF и DjVu. Файлы и изображения можно загружать как на саму Викитеку, но рекомендовано использовать отдельный ресурс для таких материалов — [Wikimedia Commons](https://commons.wikimedia.org). Примеры: [файл в викитеке](https://ru.wikisource.org/wiki/Файл:Герберштейн_-_Записки_о_Московии.djvu), [файл в Wikimedia Commons](https://commons.wikimedia.org/wiki/File:Красный_библиотекарь_(журнал),_1923,_№_1.pdf).

Для файлов как и для других объектов обязательно указание типа лицензирования. После загрузки файла в Wikimedia Commons его можно использовать в других проектах, в частности на Викитеке. Так же загруженный файл можно просто скачивать с его страницы.

Существуют инструменты автоматизации загрузки файлов, например, из [Internet Archive](https://wikitech.wikimedia.org/wiki/Tool:IA_Upload). 

## Вычитка текстов

Технологически Викитека это обычная [MediaWiki](https://www.mediawiki.org/wiki/MediaWiki) с плагином для вычитки текстов [Proofread Page](https://www.mediawiki.org/wiki/Extension:Proofread_Page) ([описание использования расширения в Викитеке](https://wikisource.org/wiki/Wikisource:ProofreadPage)). Основная часть плагина — двухпанельный редактор в котором одновременно видно текст и скан книги. Кроме этого Proofread Page добавляет и другие возможности: возможность ссылаться на страницы книги из других страниц портала, ролевую систему для вычитки, автоматическим импорт книги из PDF и DjVu и другие.  

Внешний вид редактора:

![wikisource01png](images\textreview\wikisource\wikisource_01.png)

Возможности редактора:

- Увеличение и уменьшение изображения (1). То же можно сделать колесиком мыши;

- Поворот изображения (2)

- [Распознавание текста на изображении](https://ru.wikipedia.org/wiki/Оптическое_распознавание_символов) (OCR) (3)

Поддерживается два вида OCR: [Tesseract OCR](https://github.com/tesseract-ocr/tesseract) и Google OCR, выбор языка и дополнительные настройки:

![wikisource01png](images\textreview\wikisource\wikisource_03.png)

[Последние изменения в работе системы ORC](https://meta.wikimedia.org/wiki/Community_Tech/OCR_Improvements).

Для автоматизации в редакторе есть раздел **Инструменты корректора** с кнопками для склеивания строк текста и добавления переносов.

![wikisource01png](images\textreview\wikisource\wikisource_08.png)

После автоматического распознавания текста каждый абзац получается разделенным на строки:

```
строка 1 абзаца 1
строка 2 абзаца 1
строка 3 абзаца 1

строка 1 абзаца 2
строка 2 абзаца 2
```

Кнопка склеивания строк объединяет строки одного абзаца, удаляя лишние переводы строк.

Кнопки для вставки переносов вставляют в начало или в конец текста шаблон переноса (шаблоны описаны ниже). Это необходимо так как если одно слово начинается на одной странице, а заканчивается на другой, то возможны два случая при сборке текста из страниц в один документ:

* разделенное слово нужно соединить, а дефис удалить

* разделенное слово нужно соединить, но оставить дефис, так как он является частью слова

С помощью шаблонов система понимает что слова вообще нужно соединять и какой способ соединения использовать.

Другой случай использования шаблонов — указание на то является ли первый абзац страницы продолжением абзаца на предыдущей или это новый абзац. По умолчанию, система считает что первый абзац страницы продолжает абзац на предыдущей странице. Если же в начало странице добавить специальный шаблон, то первый абзац будет считаться новым абзацем.

Кроме этих функций в редакторе много кнопок для вставки других шаблонов, элементов форматирования и спецсимволов. Этот функционал совпадает с функционалом редактора Википедии.

Особый интерес представляет функция [викификации](https://ru.wikipedia.org/wiki/%D0%92%D0%B8%D0%BA%D0%B8%D0%BF%D0%B5%D0%B4%D0%B8%D1%8F:%D0%92%D0%B8%D0%BA%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D1%80):

![wikisource01png](images\textreview\wikisource\wikisource_09.png)

Викификатор производит типографическую обработку текста: удаляет лишние пробелы, добавляет неразрывные пробелы, преобразует кавычки к нужному виду и др. [Исходный код викификатора открыт](https://ru.wikipedia.org/wiki/MediaWiki:Gadget-wikificator.js).

Редактор Proofread Page тесно связан с функционалом Mediawiki поэтому для вычитываемых текстов доступны обычные функции Википедии: просмотр истории изменений и права доступа.

Требования к вычитке — по возможности сохранение особенностей текста, но без цели полного воспроизведения бумажной версии.

> Тексты Викитеки не претендуют на полное соответствие оформлению оригинала. По техническим причинам может отличаться гарнитура шрифта, стили сносок, кавычек, макет вёрстки и т. п. Тем не менее, в Викитеке оформление максимально приближается к оригиналу, сохраняется авторское выделение шрифта курсивом, отступы и др.[^2]

[^2]: [Справка:Руководство по размещению текстов — Викитека](https://ru.wikisource.org/wiki/%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B0:%D0%A0%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE_%D0%BF%D0%BE_%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%89%D0%B5%D0%BD%D0%B8%D1%8E_%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2#%D0%9E%D1%84%D0%BE%D1%80%D0%BC%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B7%D1%8B)

> You do not have to make an identical, photographic copy of the scan. 
> Wikisource is a website, not a book, and the text is more important than
>  the typography. You should just try to get as close as possible. Some
>  things work in books but do not work on Wikisource. For example, if 
> the text was originally in columns (like a newspaper), then preserving 
> that formatting is not necessary and does not work well on Wikisource, 
> because several pages will be added together in the main namespace when 
> proofreading is finished. Instead, use normal paragraphs without 
> columns, placed in the order that you would naturally read the page.[^3]

[^3]: [Help:Beginner's guide to proofreading - Wikisource, the free online library](https://en.wikisource.org/wiki/Help:Beginner's_guide_to_proofreading)

## Индекс

После загрузки исходного файла с книгой и между вычиткой страниц есть ещё один этап — создание индекса. Индекс это основная страница вычитываемого материала, книги или статьи.

Индекс содержи описание материала, оглавление и список страниц. [Пример индекса](https://ru.wikisource.org/wiki/Индекс:Красный_библиотекарь_(журнал),_1923,_№_1.pdf):

![wikisource01png](images\textreview\wikisource\wikisource_10.png)

Все элементы индекса редактируются, причем с возможностью использования wiki-разметки.

Подсветка страниц в индексе определяет [текущий статус страницы](https://ru.wikisource.org/wiki/Справка:Состояние_страницы):

![wikisource01png](images\textreview\wikisource\wikisource_11.png)

Помимо особых статусов для страниц связанных с вычиткой используется [общая схема проверки статей](https://ru.wikisource.org/wiki/Викитека:Правила_проверки_страниц) аналогичная схеме Википедии.

## Разметка

Для разметки текстов используется [wiki-разметка](https://ru.wikipedia.org/wiki/Вики-разметка) аналогичная используемой в Википедии.

Наиболее примечательная конструкция этой разметки — это [шаблоны](https://ru.wikisource.org/wiki/Справка:Шаблоны). Шаблоны используются очень широко: для оформления текста — центрирования, разрядки, выравнивания, для установки меток на странице — лицензирование, замечаний к материалам, для разметки стихотворений, таблиц и др.

Для вставки шаблона используются фигурные скобки, сначала идет название шаблона, а затем через вертикальную черту набор параметров. Ниже пример применения нескольких шаблонов, с указанием праметров:

```wiki
{{Центр|центрированный текст}}
{{К удалению}}
{{fs|150%|1. Текст 150%}}
{{PD-RU-exempt}}
```

Разметка предоставляет очень широкие возможности визуального оформления страниц. Примеры возможностей визуального оформления можно рассмотреть в книге [Жития святых по изложению свт. Димитрия Ростовского](https://ru.wikisource.org/wiki/Жития_святых_по_изложению_свт._Димитрия_Ростовского/Сентябрь/7):

![wikisource_01.png](images\textreview\wikisource\wikisource_07.png)

Однако из-за широких возможностей визуального оформления разметка используется по-разному. Различными шаблонам можно добиться сходного визуального эффекта, единых правил нет и авторы используют разные шаблоны. Это ведет, в частности, к затруднению экспорта материалов в другие форматы. Такая проблема относится как к вычитываемым страницам, так и к оформлению оглавлений, страниц авторов, страниц собраний сочинений.

Другой существенный недостаток — концентрация на визуальном оформлении вместо логического. Например, заголовки оформляются с помощью шаблона увеличивающего шрифт, а не с помощью элемента разметки "заголовок". Это ещё в большей степени затрудняет машинную обработку текстов. Оглавление уже нельзя получить автоматически, а приходится формировать вручную.

В Викитеке можно создать копии бумажных книг которые будут красиво отображаться на сайте Викитеки. Но экспортировать их в другие форматы будет затруднительно, использовать автоматическую обработку тоже. Конечно, текст в wiki-разметке уже значительно лучше чем просто графическое изображение страницы, но это и не подлинная оцифровка, а больше похоже на попытку воспроизвести печатный оригинал. Однако, отношение между визуальной и логической разметкой не такое простое как может показаться на первый взгляд и требует гораздо более детального исследования.

В разметке есть несколько шаблонов для указания опечаток в бумажном варианте текста: [Шаблон:Опечатка](https://ru.wikisource.org/wiki/Шаблон:Опечатка), [Шаблон:Так в тексте](https://ru.wikisource.org/wiki/Шаблон:Так_в_тексте), [Template:SIC](https://en.wikisource.org/wiki/Template:SIC).

## Система прав и администрация

Как и в Википедии, вносить любые правки могут все, даже не зарегистрированные пользователи, но проверяются и утверждаются правки уполномоченными на это зарегистрированные участники.

Викитека наследует [административную систему Википедии](https://ru.wikipedia.org/wiki/Русская_Википедия), включающая в себя разные уровни доступа и статусы участников: [инженеры](https://ru.wikipedia.org/wiki/Википедия:Инженеры), [бюрократы](https://ru.wikipedia.org/wiki/Википедия:Бюрократы), [администраторы](https://ru.wikipedia.org/wiki/Википедия:Администраторы), [ревизоры](https://ru.wikipedia.org/wiki/Википедия:Ревизоры) и другие. Такая сложная система отражает сложность организации большого количества людей участвующий во всех вики-проектах и в Викитеке в частности.

Для выработки решение применяется принцип [консенсуса](https://ru.wikipedia.org/wiki/Википедия:Консенсус). Консенсуса удаётся достичь не по всем вопросам. Если решения какому-либо вопросу не определено на более высоком уровне иерархии, и нет определенного консенсуса, то участники свободны действовать по своему усмотрению. Подход выглядит хорошим для организации большого количества свободных людей, хотя есть и недостатки описанные выше в разделе про разметку, из-за разных подходов к которой затрудняется автоматизация.

## Переводы

Кроме оригинальных текстов в Викитеке иногда размещаются их переводы. Статистики текстов с переводами нет, поэтому не известно насколько это распространено. В русскоязычной Викитеке популярны тексты в дореволюционной орфографии и их перевод в современную.

Переводы в целом являются отдельными текстами.

![wikisource01png](file://D:\folders\way23_svn\Текстологический обзор\images\textreview\wikisource\wikisource_05.png?msec=1668244602420)

Размещаются и редактируются переводы на страницах книг, просто как отдельный текст. Поабзацного сопоставления нет. [Пример](https://ru.wikisource.org/wiki/Страница:Герберштейн_-_Записки_о_Московии.djvu/48):

![wikisource_01.png](images\textreview\wikisource\wikisource_06.png)

## Типы страниц

Важная особенность Викитеки (и Википедии в целом) — использование разных типов страниц или пространств страниц. Индексы находятся в пространстве `Индекс`, а страницы вычитки с двухпанельным редактором в пространстве `Страница`. Это можно увидеть по URL-адресу страниц:

```
https://ru.wikisource.org/wiki/Страница:Красный_библиотекарь_(журнал),_1923,_№_1.pdf/11
```

```
https://ru.wikisource.org/wiki/Индекс:Красный_библиотекарь_(журнал),_1923,_№_1.pdf
```

Вычитанные произведения находятся в основном пространстве без префикса

```
https://en.wikisource.org/wiki/Lost_Island
```

Эта особенность важна из-за подхода к хранению материалов. При оцифровке собрания сочинений или номера журнала, во время вычитки проходит работа между страницами определенного тома или журнала и вычитанными страницам. При этом сохраняется порядок страниц и работ в печатной копии. Структуризация материала проходит на основании печатного издания.

При переносе вычитанного материала в основное пространство группировка и перенос происходит независимо от размещения материала в печатной копии. Например, статьи разных авторов в журнале будут находятся отдельно и рассматриваться как отдельные работы определенных авторов. То же самое с произведениями в составе собраний сочинений.

Такой подход перспективен, так как это ещё один элемент освобождения произведения от бумажной версии. В то же время, важно чтобы осталась прямая связь с бумажным источником и такая связь есть в Викитеке.

В версии расположенной в основном пространстве, при [просмотре на сайте](https://en.wikisource.org/wiki/Lost_Island/Chapter_12), слева отображаются номера страниц:

![wikisource_01.png](images\textreview\wikisource\wikisource_12.png)

Номер страницы — это ссылка на страницу вычитки на которой будет отображаться исходный скан.

Однако, отделение цифровой версии от печатного оригинала не доведено до конца. Сейчас связь между оцифрованным произведением и печатным оригиналом относится к типу один к одному. Одно произведение может быть сопоставлено только с одним сканом. В действительности же произведение, например, статья можем быть размещена несколько раз, например, в ПСС, в журнале и в отдельном сборнике статей. Причем в каждом случае могут быть какие-то значимые или не значимые отличия. Текст станет полностью оцифрованным если будет прослеживаться его связь до любого печатного источника причем с отображением значимых отличий.

Второй проблемой текущего подхода Викитеки является недостаток автоматизации. Для создания страниц произведений, оглавлений, оформления страниц авторов и других работ нет простых и удобных средств автоматизации. Почти все приходится делать вручную редактированием отдельных страниц, следить за корректностью ссылок, совпадением списков и т. д. Это направление развивается, разработка вики-проектов ведется через портал [Phabricator](https://phabricator.wikimedia.org) на котором в том числе принимаются запросы на добавление функционала от пользователей. Поэтому в будущем, работа в Викитеке может быть упрощена.

## Просмотр книг и экспорт

Вычитанные материалы можно читать на сайте Викитеки или экспортировать в несколько форматов.

Для экспорта, [на страницах книг](https://en.wikisource.org/wiki/Lost_Island), справа в верху находится кнопка Download.

![wikisource_01.png](images\textreview\wikisource\wikisource_13.png)

![wikisource_01.png](images\textreview\wikisource\wikisource_14.png)

В расширенной форме экспорта ([GitHub - wikimedia/ws-export](https://github.com/wikimedia/ws-export)) поддерживается больше форматов:

![wikisource_01.png](images\textreview\wikisource\wikisource_15.png)

Один из недостатков экспорта — экспорт основан на том как страницы вложены друг в друга. Из-за этого нельзя экспортировать журнал в котором у каждой статьи свой автор целиком, а только по отдельным статьям. Подробнее описано в [комментариях к этой странице](https://ru.wikisource.org/wiki/Обсуждение:Красный_библиотекарь_(журнал)/1923/1) и [инциденте на Phapricator](https://phabricator.wikimedia.org/T321505). С учетом сказанного выше про разные типы страниц, возможно, это не является принципиальной проблемой, так как важнее экспорт вычитанных произведений, чем экспорт-попытка повторения бумажного оригинала.

Формат разметки очень сильно ориентирован на визуальную разметку, из-за этого возникают сложности при экспорте. Каждый формат содержит свои особенности и сделать одинаковое отображение даже в EPUB и PDF довольно сложно. При экспорте в эти форматы книги выглядят приемлемо, но заметно хуже чем при отображении на сайте Викитеки. Из-за ориентации на визуальную часть очень трудно получить экспорт в форматы с доминированием логической разметки такие как FB2, или даже просто красивый файл в plain text. В целом, выглядит так, что экспорт не приоритетное направление в развитии Викитеки, несмотря на то, что [есть выполненные проекты по его развитию](https://meta.wikimedia.org/wiki/Community_Tech/Ebook_Export_Improvement).

## Вики-экоситсема

Викитека тесно интегрирована с другими вики-проектами. Уже упоминалось хранение файлов на Wikimedia Common. Внутри страниц Викитеки есть специальный синтаксис для ссылок на страницы в Википедии. Через [Викиданные](https://www.wikidata.org/wiki/Wikidata:Introduction/ru) авторы или книги могут быть связаны в разных вики-проектах. Например, заполнение информации об авторе в Викиданных позволяет отображают одинаковую информацию об авторе на Википедии и Викитеке.

Текущие возможности связи между проектами ограничены, но направление движения показывает, что все идет в сторону большей интеграции систем друг с другом и автоматизации. Создается не просто набор страниц, а база знаний в которой различные типизированные объекты связаны друг с другом и возможен их автоматизированный поиск и отображение.

## Возможности автоматизации

Викитека, как и другие вики-проекты, поддерживает широкие возможности для автоматизации рутинных действий. Использование средств автоматизации, на данный момент, требует квалификации выше среднего пользователя.

[Инструменты и скрипты](https://en.wikisource.org/wiki/Wikisource:Tools_and_scripts) — расширения Викитеки, которые можно добавить, как на уровне системы, так и на уровне настроек отдельного пользователя. Среди них есть так же отдельные программы или сервисы.

MediaWiki поддерживает [REST API](https://www.mediawiki.org/wiki/Wikimedia_REST_API), на основе него уже есть библиотеки для определенных языков программирования: [PHP](https://github.com/wikisource/api), [Python](https://github.com/indictechcom/pywikisource).

[Боты](https://en.wikisource.org/wiki/Wikisource:Bots) — специальные аккаунты, автоматизированные через скрипты, для автоматического выполнения рутинных действий.

[Резервные копии баз данных](https://dumps.wikimedia.org/backup-index.html) wiki-систем доступны для скачивания, их можно использовать для экспорта данных.

## Сравнение Викитеки и Проекта Гутенберг

Задачи и принципы работы Викитеки схожи с [Проектом Гутенберг](textreview-gutenberg.md). На Викитеке есть [отдельная дискуссия](https://wikisource.org/wiki/Wikisource_talk:Wikisource_and_Project_Gutenberg) про сравнение этих систем. Основные различия следующие:

* Способ редактирования и исправления ошибок в Викитеке, основанный на wiki-принципах, проще и удобнее чем в Проекте Гутенберг. Если говорить про уже вычитанное произведение, то сообщения о найденных ошибка в Проекте Гутенберг оформления по почте в [специальном формате](https://www.gutenberg.org/help/errata.html)

* Отличаются этапы и их контроль при вычитке в Викитеке и на сайте Distributed Proofreaders;

* В Викитеке используется wiki-разметка, а в Проекте Гутенберг собственные форматы разметки;

* Оба проекта соблюдают авторское право и лицензионные соглашения, есть ли различия в этом параметре точной информации нет;

* Административная структура и принципы работы организаций различаются;

* Викитека более развита технологически, в Проекте Гутенберг, если рассматривать его отдельно от Distributed Proofreaders, многие вещи связанные с подготовкой книг выполняются вручную с минимальной автоматизацией. В Викитеке связь со сканом сохраняется и в вычитанном материале, в проекте Гутенберг не сохраняется.

## Заключение

Викитека это самая развитая система для вычитки в технологическом и административном отношении и может использоваться для организации коллективной вычитки. Если взять часть связанную с исправлением опечаток то она сделана близко к идеальному для такого рода систем: любой человек может сравнить любую часть произведения со сканом и исправить в интуитивно-понятном редакторе.

Стоит рассмотреть некоторые недостатки.

Простое исправление опечаток не сложное действие, но весь процесс оцифровки начиная от загрузки книги до её окончательного вида довольно сложен и требует изучения инструкций.

Развитый административный аппарат и правила связанные с авторским правом могут стать препятствием работе над литературой способствующей переходу общества на новый этап развития. Этот недостаток можно исключить если развернуть систему на своих серверах. Однако это потребует трудозатрат на настройку и администрирование, а так же оплаты аппаратной части. В то же время значительная часть литературы не противоречит требованиям Викитеки и можно использовать общедоступный сервер `wikisource.org`. 

Большой упор на визуальную разметку является недостатком, но он может быть сглажен выработкой и согласованием с администрацией особых требований, например, к вычитке определённого собрания сочинений. Можно попробовать договорится о том какие элементы разметки применять и применять только их. Это одна из самых существенных проблем и исключить её полностью при использовании Викитеки нельзя.

Викитека хоть и предоставляет возможности делать переводы, но в целом мало подходит для этого. Это второй существенный недостаток. Маловероятно, что его возможно исправить в рамках использования Викитеки, так как для этого особенно полезным было бы деление текста на абзацы в базе данных, а в Викитеке текст делится только на страницы связанные со сканами.

Связь текста со сканами не теряется, это позволяет очень просто и в любой момент исправлять новые найденные опечатки. Недостатком является возможность связать с текстом только один скан, но этот недостаток нельзя сейчас назвать существенным, может быть такая функция будет полезна для будущих систем.

Есть возможность автоматизации работы в Викитеке, но она требует определенной квалификации.

Экспорт в другие форматы относительно неплохо работает для PDF и EPUB, но в целом функция экспорта недостаточно развита.

Несмотря на недостатки, аналогичных проектов такого уровня развития не существует, кроме сравнимого Проекта Гутенберг.
