<!doctype html>
<html lang="ru-RU">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.21" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <meta name="theme-color" content="#ffffff"><link rel="icon" href="/assets/favicons/favicon.svg"><link rel="mask-icon" href="/assets/favicons/mask-icon.svg" color="red"><link rel="apple-touch-icon" href="/assets/favicons/apple-touch-icon.png"><link rel="manifest" href="manifest.json"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.css"><script>
	    var __rm__config = {
        projectId: '-NG0iw9JVLvjofRZaPel',
        locale: 'ru',
        contextWidget: 0,
        embedBtn: 0,
        floatingBtn: 1,
        floatingBtnPosition: 'left',
        floatingBtnStyle: 'light',
			};
    </script><script src="https://widget.revisionme.com/app.js" defer="defer" id="rm_app_script"></script><title>Технические аспекты цифровой текстологии | Текстология</title><meta name="description" content="Статьи">
    <link rel="preload" href="/assets/style-Ca80u5vF.css" as="style"><link rel="stylesheet" href="/assets/style-Ca80u5vF.css">
    <link rel="modulepreload" href="/assets/app-3vC-laG6.js"><link rel="modulepreload" href="/assets/технические-аспекты-текстологии.html-D01naxqu.js">
    <link rel="prefetch" href="/assets/format-comtext-changelog.html-D4GrOBUR.js" as="script"><link rel="prefetch" href="/assets/format-comtext.html-k54r4hEN.js" as="script"><link rel="prefetch" href="/assets/fzr-review.html-COBJczCE.js" as="script"><link rel="prefetch" href="/assets/git-guide.html-BG2smqgw.js" as="script"><link rel="prefetch" href="/assets/mastodon-guide.html-uxiQVHyk.js" as="script"><link rel="prefetch" href="/assets/pandoc-abbreviations.html-De4Q71wx.js" as="script"><link rel="prefetch" href="/assets/pandoc-basic.html-B5hNCbJN.js" as="script"><link rel="prefetch" href="/assets/pandoc-citations.html-Bo58Kspp.js" as="script"><link rel="prefetch" href="/assets/pandoc-debug.html-D0KSUzmt.js" as="script"><link rel="prefetch" href="/assets/pandoc-file-scope-preserve-tabs-tab-stop.html-BLEfu37V.js" as="script"><link rel="prefetch" href="/assets/pandoc-lua-filters.html-Bbo7IvG_.js" as="script"><link rel="prefetch" href="/assets/pandoc-md-to-doc.html-cMCQIRBH.js" as="script"><link rel="prefetch" href="/assets/pandoc-metadata.html-BpYYRUdT.js" as="script"><link rel="prefetch" href="/assets/pandoc-template.html-CW9wxsoD.js" as="script"><link rel="prefetch" href="/assets/party-or-cult.html-V62PubhZ.js" as="script"><link rel="prefetch" href="/assets/proofreader-guide.html-DizXloYF.js" as="script"><link rel="prefetch" href="/assets/proofreader-guide2.html-CtvOiOwN.js" as="script"><link rel="prefetch" href="/assets/index.html-f7tlYfGe.js" as="script"><link rel="prefetch" href="/assets/related-projects.html-mrsyhKOA.js" as="script"><link rel="prefetch" href="/assets/textreview-anarchistlibraries.html-B-z4lFpo.js" as="script"><link rel="prefetch" href="/assets/textreview-bureau.html-BeI_NlYg.js" as="script"><link rel="prefetch" href="/assets/textreview-coollib.html-eY6q45Fw.js" as="script"><link rel="prefetch" href="/assets/textreview-das-scharwerk.html-BjHfx1rd.js" as="script"><link rel="prefetch" href="/assets/textreview-diglossa.html-CqH8LLoJ.js" as="script"><link rel="prefetch" href="/assets/textreview-flibusta.html-DTuH7an6.js" as="script"><link rel="prefetch" href="/assets/textreview-format-asciidoc.html-Dequo00G.js" as="script"><link rel="prefetch" href="/assets/textreview-format-atx.html-K1oagR6t.js" as="script"><link rel="prefetch" href="/assets/textreview-format-restructuredtext.html-BuRjhhZw.js" as="script"><link rel="prefetch" href="/assets/textreview-format-scholarlymarkdown.html-CRp0xAAc.js" as="script"><link rel="prefetch" href="/assets/textreview-format-textile.html-Dt0teCYv.js" as="script"><link rel="prefetch" href="/assets/textreview-gutenberg.html-XL8OyUtl.js" as="script"><link rel="prefetch" href="/assets/textreview-inforost.html-DS33Bt1C.js" as="script"><link rel="prefetch" href="/assets/textreview-istnet.html-DnNDu9xq.js" as="script"><link rel="prefetch" href="/assets/textreview-lenin-ocr.html-D9vpa4S7.js" as="script"><link rel="prefetch" href="/assets/textreview-mgu-library.html-CNUer64Y.js" as="script"><link rel="prefetch" href="/assets/textreview-nevmenandr-slovo-poetica.html-D7ikDn8L.js" as="script"><link rel="prefetch" href="/assets/textreview-nooregistry.html-76cHPIu7.js" as="script"><link rel="prefetch" href="/assets/textreview-online-lib.html-B7hF_WHK.js" as="script"><link rel="prefetch" href="/assets/textreview-orpk.html-DxaQi_q5.js" as="script"><link rel="prefetch" href="/assets/textreview-prozhito.html-qAbP0Phv.js" as="script"><link rel="prefetch" href="/assets/textreview-rusneb.html--heREEuw.js" as="script"><link rel="prefetch" href="/assets/textreview-smereka.html-sCxFvh0L.js" as="script"><link rel="prefetch" href="/assets/textreview-sokrat-online.html-Bj3iKUL8.js" as="script"><link rel="prefetch" href="/assets/textreview-tolstoy.html-BUiCEBAu.js" as="script"><link rel="prefetch" href="/assets/textreview-vivaldi.html-Dv3HBt3f.js" as="script"><link rel="prefetch" href="/assets/textreview-wikisource.html-DIOS6BcY.js" as="script"><link rel="prefetch" href="/assets/tufte-css.html-B0yTSzC4.js" as="script"><link rel="prefetch" href="/assets/абстрактный-труд-и-абстракция.html-EKsCgpHv.js" as="script"><link rel="prefetch" href="/assets/атом-в-диссертации-маркса-и-категории-капитала.html-CmY-8d9d.js" as="script"><link rel="prefetch" href="/assets/диалектический-материализм-мориса-корнфорта.html-CbeXZV2d.js" as="script"><link rel="prefetch" href="/assets/дополнение-про-масштаб-цен.html-D7GvRxsk.js" as="script"><link rel="prefetch" href="/assets/заметки-к-статье-экономическая-теория-маркса.html-CG-WgmJl.js" as="script"><link rel="prefetch" href="/assets/заметки-о-введении-к-критике-политической-экономии.html-D2URUeW_.js" as="script"><link rel="prefetch" href="/assets/заметки-по-мотивам-статей-бухарина-20-годов.html-CRGLpGav.js" as="script"><link rel="prefetch" href="/assets/заметки-по-поводу-эффективности-самообразовательных-сообществ.html-DRfOdhNe.js" as="script"><link rel="prefetch" href="/assets/заметки-про-цифровой-социализм-и-огас-2.0.html-DHuT3dM5.js" as="script"><link rel="prefetch" href="/assets/инструкция-по-типографике-и-unicode.html-CMDYt55t.js" as="script"><link rel="prefetch" href="/assets/использование-математических-формул-в-результатах-текстологической-работы.html-D2bqsgME.js" as="script"><link rel="prefetch" href="/assets/комментарий-к-комментариям-розенберга-на-тему-общественных-отношений.html-DHzGVlXO.js" as="script"><link rel="prefetch" href="/assets/конспект-книги-мозг-фирмы.html-B0qZQV9v.js" as="script"><link rel="prefetch" href="/assets/метафора-расхождения-теоретических-позиций.html-zlfpNacx.js" as="script"><link rel="prefetch" href="/assets/необходимы-ли-более-простые-тексты.html-CJswD6ex.js" as="script"><link rel="prefetch" href="/assets/о-роли-ведущего-в-самообразовании.html-yunBkvcZ.js" as="script"><link rel="prefetch" href="/assets/обзор-критики-загорского-эксперимента.html-oXQES43z.js" as="script"><link rel="prefetch" href="/assets/общественные-отношения-и-технологии.html-BNCOqUyE.js" as="script"><link rel="prefetch" href="/assets/опыт-представления-и-теория-в-капитале.html-DsNVKC99.js" as="script"><link rel="prefetch" href="/assets/открытая-текстология.html-zCpHAwgo.js" as="script"><link rel="prefetch" href="/assets/параллельный-текст-манифеста-коммунистической-партии.html-CSWmyvzD.js" as="script"><link rel="prefetch" href="/assets/почему-чтение-остаётся-только-чтением.html-CtDStBRZ.js" as="script"><link rel="prefetch" href="/assets/правила-пунктуации-при-оцифровке-текстов.html-D6uauJXt.js" as="script"><link rel="prefetch" href="/assets/правильный-взгляд-на-художественное-произведение.html-DZxzUMWE.js" as="script"><link rel="prefetch" href="/assets/предметы-и-формы-деятельности.html-0tt84Yee.js" as="script"><link rel="prefetch" href="/assets/представления-о-методе-восхождения.html-rUkQ2530.js" as="script"><link rel="prefetch" href="/assets/преодоление-второго-информационного-барьера-и-производительная-сила.html-CB3Av3g2.js" as="script"><link rel="prefetch" href="/assets/про-жареных-рябчиков.html-CMWMadm6.js" as="script"><link rel="prefetch" href="/assets/про-мотивацию.html-TXGWoh30.js" as="script"><link rel="prefetch" href="/assets/про-ограниченность-цитат.html-CyJ1SRxk.js" as="script"><link rel="prefetch" href="/assets/про-ответ-ильенкова-кронроду.html-C5u4yiIT.js" as="script"><link rel="prefetch" href="/assets/про-ёфикацию-текстов.html-DtHByzEt.js" as="script"><link rel="prefetch" href="/assets/проблемы-конвертации-маркдаун-в-фб2-через-пандок.html-BFtnLg-Y.js" as="script"><link rel="prefetch" href="/assets/проблемы-перехода-к-плановой-экономике.html-LNHlCHja.js" as="script"><link rel="prefetch" href="/assets/развитие-относительной-формы-стоимости.html-B_gcYwF4.js" as="script"><link rel="prefetch" href="/assets/развитие-формы-денег.html-CZWN8Rvd.js" as="script"><link rel="prefetch" href="/assets/разум-в-общении.html-uVmQiI_6.js" as="script"><link rel="prefetch" href="/assets/реляционная-модель-данных.html-DsaRI8fH.js" as="script"><link rel="prefetch" href="/assets/с-какой-стороны-подойти-к-пониманию-абстрактного-труда.html-BrTI0t7k.js" as="script"><link rel="prefetch" href="/assets/система-кэмпа.html-CYED921y.js" as="script"><link rel="prefetch" href="/assets/сравнение-облегчённых-языков-разметки-документов.html-f_Gdbfnc.js" as="script"><link rel="prefetch" href="/assets/структура-словарей-hunspell-основы-и-составные-слова.html-DlY6K0we.js" as="script"><link rel="prefetch" href="/assets/схемофетишизм.html-Dlr6If4A.js" as="script"><link rel="prefetch" href="/assets/тезисы-о-безбумажности.html-hcPjiqDb.js" as="script"><link rel="prefetch" href="/assets/текст-как-указатель.html-fDZUcx1w.js" as="script"><link rel="prefetch" href="/assets/текстология-и-движение-целого.html-AKvqUD5i.js" as="script"><link rel="prefetch" href="/assets/триз-и-перебор-вариантов.html-BaUh9TIp.js" as="script"><link rel="prefetch" href="/assets/формат-open-publication-distribution-system.html-dpWIfevA.js" as="script"><link rel="prefetch" href="/assets/фотокопия-книги-и-текст-книги.html-DZ5TfGTQ.js" as="script"><link rel="prefetch" href="/assets/цитатный-метод.html-Db-PgQLJ.js" as="script"><link rel="prefetch" href="/assets/что-означает-понять-предмет.html-RpPGLhzU.js" as="script"><link rel="prefetch" href="/assets/404.html-BKnocOcs.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container no-sidebar external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name" aria-hidden="true">Текстология</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://defcon.social/@pensadoj" aria-label="Mastodon" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Mastodon<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://t.me/pensadoj" aria-label="Telegram" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Telegram<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://defcon.social/@pensadoj" aria-label="Mastodon" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Mastodon<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://t.me/pensadoj" aria-label="Telegram" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Telegram<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="frontmatter-title" tabindex="-1"><a class="header-anchor" href="#frontmatter-title"><span>Технические аспекты цифровой текстологии</span></a></h1><p><strong>09.09.2021</strong></p><p><em>Данная статья была написана несколько месяцев назад для обсуждения вопросов организации текстологической работы. Текущий вариант размещается в неизмеренном виде, так как корректировки на данный момент не имеют смысла — для детализации спорных вопросов необходимы отдельные тексты или готовые технические решения.</em></p><nav class="table-of-contents"><ul><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#текстология-как-процесс-настроенныи-под-обстоятельства" class="router-link-active router-link-exact-active">Текстология как процесс, настроенный под обстоятельства</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#цифровое-представление-информации" class="router-link-active router-link-exact-active">Цифровое представление информации</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#кодировки-текста-и-юникод" class="router-link-active router-link-exact-active">Кодировки текста и Юникод</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#бинарные-и-текстовые-форматы" class="router-link-active router-link-exact-active">Бинарные и текстовые форматы</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#печатные-и-непечатные-символы" class="router-link-active router-link-exact-active">Печатные и непечатные символы</a><ul><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#неразрывныи-пробел-и-другие-пробельные-символы" class="router-link-active router-link-exact-active">Неразрывный пробел и другие пробельные символы</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#мягкии-перенос" class="router-link-active router-link-exact-active">Мягкий перенос</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#другие-символы-юникода" class="router-link-active router-link-exact-active">Другие символы юникода</a></li></ul></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#внешнии-вид-и-разметка" class="router-link-active router-link-exact-active">Внешний вид и разметка</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#элементы-разметки" class="router-link-active router-link-exact-active">Элементы разметки</a><ul><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#абзацы" class="router-link-active router-link-exact-active">Абзацы</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#принудительныи-перенос" class="router-link-active router-link-exact-active">Принудительный перенос</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#заголовки-и-подзаголовки" class="router-link-active router-link-exact-active">Заголовки и подзаголовки</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#эпиграфы" class="router-link-active router-link-exact-active">Эпиграфы</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#выделения-в-тексте-акцент" class="router-link-active router-link-exact-active">Выделения в тексте (Акцент)</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#цитаты" class="router-link-active router-link-exact-active">Цитаты</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#изображения" class="router-link-active router-link-exact-active">Изображения</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#схемы-и-графики" class="router-link-active router-link-exact-active">Схемы и графики</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#формулы" class="router-link-active router-link-exact-active">Формулы</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#примечания-и-комментарии" class="router-link-active router-link-exact-active">Примечания и комментарии</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#номера-страниц" class="router-link-active router-link-exact-active">Номера страниц</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#стихотворения" class="router-link-active router-link-exact-active">Стихотворения</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#разделитель" class="router-link-active router-link-exact-active">Разделитель</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#маркированные-и-нумерованные-списки" class="router-link-active router-link-exact-active">Маркированные и нумерованные списки</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#таблицы" class="router-link-active router-link-exact-active">Таблицы</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#блоки-кода" class="router-link-active router-link-exact-active">Блоки кода</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#другие-элементы" class="router-link-active router-link-exact-active">Другие элементы</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#экранирование-элементов-разметки" class="router-link-active router-link-exact-active">Экранирование элементов разметки</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#вложенность-элементов-разметки" class="router-link-active router-link-exact-active">Вложенность элементов разметки</a></li></ul></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#эквивалентность-текстовых-форматов" class="router-link-active router-link-exact-active">Эквивалентность текстовых форматов</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#тяжелая-и-легкая-текстовая-разметка" class="router-link-active router-link-exact-active">Тяжелая и лёгкая текстовая разметка</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#структура-данных-и-ее-реализация" class="router-link-active router-link-exact-active">Структура данных и её реализация</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#отличия-модели-данных-для-внутреннего-использования-и-для-обмена" class="router-link-active router-link-exact-active">Отличия модели данных для внутреннего использования и для обмена</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#отделение-формата-от-программы" class="router-link-active router-link-exact-active">Отделение формата от программы</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#элементы-модели-данных" class="router-link-active router-link-exact-active">Элементы модели данных</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#способы-оформления-стандарта" class="router-link-active router-link-exact-active">Способы оформления стандарта</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#комментирование" class="router-link-active router-link-exact-active">Комментирование</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#объединение-результатов-работы" class="router-link-active router-link-exact-active">Объединение результатов работы</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#текстология-как-мышление-человечества" class="router-link-active router-link-exact-active">Текстология как мышление человечества</a></li><li><a aria-current="page" href="/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B0%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D1%8B-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8.html#выводы" class="router-link-active router-link-exact-active">Выводы</a></li></ul></nav><p>Текстология ставит перед собой три основные задачи <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>:</p><ol><li>Установление авторского текста;</li><li>Организация текста, его компоновка, установление состава и композиции для отдельных изданий;</li><li>Комментирование текстов.</li></ol><p>Достижение этих целей посредством цифровой техники связано с отличными от бумаги проблемами, однако, открывает недоступные для бумаги возможности. В этой статье мы обозначим проблемы цифровой текстологии и наметим пути их решения.</p><h2 id="текстология-как-процесс-настроенныи-под-обстоятельства" tabindex="-1"><a class="header-anchor" href="#текстология-как-процесс-настроенныи-под-обстоятельства"><span>Текстология как процесс, настроенный под обстоятельства</span></a></h2><p>Прежде всего, рассмотрим понимание текстологии как процесса. Канонический, выверенный текст мы имеем условно, только как самый последний вариант установленный в данный момент. Новые данные и исследования могут привести к новой версии канонического текста. Хоть в данный момент мы и утратили государственные институты без которых подобные исследования труднореализуемы и просто используем прошлые наработки, в будущем подобная работа будет возобновлена. Таким образом текстологический процесс должен учитывать возможность изменения текста.</p><p>Технические и организационные моменты работы тоже не застыли во времени, а изменяются. Учитывая это, при принятии решений следует выбирать разумный компромисс между возможностями и простотой решения. Чем проще средство или решение, тем проще его изменить или заменить в будущем. А исследовательские задачи, задачи по созданию чего-то нового, редко в точности следуют заранее спланированному детальному плану. Обычно, во время процесса построения нового выявляются особенности и детали, которые позволяют принять намного более эффективное решение, чем с информацией которая была в начале. В такой ситуации, при планировании лучше придерживаться следующего принципа: принимать важное решение, которое в будущем будет трудно изменить, как можно позже, когда негативный эффект от не принятого решения больше, чем принятие потенциально неверного решения.</p><p>Кроме того технические возможности, опыт и понимание задач у разных групп занимающихся текстологией различны. Не всегда будет полезна стандартизация всех под единообразные требования. Обмен между сообществами, как результатами работы, так и опытом необходим. В то же время всегда стоит учитывать и использовать конкретные обстоятельства места, времени и коллектива.</p><h2 id="цифровое-представление-информации" tabindex="-1"><a class="header-anchor" href="#цифровое-представление-информации"><span>Цифровое представление информации</span></a></h2><p>Идея автоматизации текстологической работы не является новой. Можно встретить упоминание о первых таких попытках около 1955 года <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>:</p><blockquote><p>Сделаны уже первые попытки механизировать сличение текстов разных экземпляров одного издания. Специальным прибором произведено сличение разных экземпляров первых изданий Шекспира — основных источников его текста (рукописи, как известно, отсутствуют). В итоге машина приблизительно в 40 раз быстрее, чем это мог бы сделать человек, сравнила 75000 страниц двухколонного текста и при этом обнаружила несколько сот неизвестных ранее разночтений.</p></blockquote><p>С того времени технологии существенно развились и для дальнейшего рассуждения необходимо кратко рассмотреть их современное состояние.</p><p>Для упрощения огромной сложности компьютерных систем используются <a href="https://ru.wikipedia.org/wiki/%D0%A3%D1%80%D0%BE%D0%B2%D0%B5%D0%BD%D1%8C_%D0%B0%D0%B1%D1%81%D1%82%D1%80%D0%B0%D0%BA%D1%86%D0%B8%D0%B8_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)" target="_blank" rel="noopener noreferrer">слои абстракции</a>. Каждый слой скрывает за собой внутреннее, реальное устройство более низких уровней и предоставляет упрощённое описание, подходящее для более высокоуровневой работы. Без такого деления, любая деятельность требовала бы знания и учёта огромного массива информации и была бы невозможна.</p><p>Это похоже на сокрытие внутреннего устройства автомобиля за капотом. Водителю предоставлены удобные средства управления в виде руля и педалей. Между средствами управления и движением машины есть прямая и простая зависимость: руль влияет на направление, а педали на скорость. Таким образом при управлении не требуется учитывать <strong>как именно</strong> и <strong>какие именно</strong> детали конкретного двигателя приходят в движение при ускорении, достаточно понимать зависимость нажатием педали и скоростью. За счет этого, с одной стороны, проще обучение вождению, а с другой пересесть с одной модели автомобиля на другую не составляет особого труда. Так и работают две функции абстракции: с одной стороны она уменьшает сложность, а с другой скрывает реальную реализацию.</p><p>Уровень, с которого мы начнем — представление данных в виде упорядоченной последовательности бит. Этот уровень позволяет нам не рассматривать физические свойства хранения информации: хранится ли она на SSD или HDD, или передается в данный момент по сети, что для нашей работы не имеет значения. В то же время мы сможем отразить все важные для текстологии аспекты.</p><p>Один бит можно представить в виде цифры: ноль или единица, а последовательность бит в виде ряда из нулей и единиц. Например, так</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">010101101111100110010101010100101</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>В подавляющем большинстве современных реализацией компьютерных систем этот ряд дополнительно группируется на блоки по 8 цифр называемых байтами:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">01010110 11111001 10010101 01010010</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Сами по себе данные в таком виде бесполезны. Нам не интересны просто последовательны цифр. Для того чтобы приносить пользу данным задается специальная структура. Структура задаётся как внешнее описание, данные сами по себе остаются в виде последовательности нулей и единиц.</p><p>Например, <strong>мы можем договориться</strong>, что будем кодировать цвет двумя битами. Таким образом мы сможем задать четыре разных цвета:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">00 --- Белый</span>
<span class="line">01 --- Чёрный</span>
<span class="line">10 --- Красный</span>
<span class="line">11 --- Зелёный</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Теперь, если нам передадут данные в которых закодирована последовательность цветов</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">10000111</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Мы понимаем что эта последовательность кодирует следующие цвета: красный, белый, чёрный, зелёный.</p><p>С другой стороны, мы можем договориться что будем считать группу из четырёх бит целыми, положительными числами. Одной, такой группой, мы можем закодировать 16 различных чисел. Например, мы решили кодировать числа от 0 до 15:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">0000 = 0</span>
<span class="line">0001 = 1</span>
<span class="line">0010 = 2</span>
<span class="line">0011 = 3</span>
<span class="line">0100 = 4</span>
<span class="line">...</span>
<span class="line">0111 = 14</span>
<span class="line">1111 = 15</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Последовательности бит остаются такими же, но наши договорённости наделяют их различным смыслом, мы используем разный способ интерпретации одних и тех же данных.</p><p>Теперь нам ничего не мешает объединить цвета и числа в один формат. Представим, что в начале в начале должны идти два числа определяющие размеры изображения в точках, а затем последовательность цветов точек изображения, начиная с левого верхнего угла. Можно заметить, что уже произошел переход на следующий уровень абстракции: этот формат описан не в понятиях нулей и единиц, а в понятии чисел и цветов, хотя, на более низком уровне цвета и числа закодированы последовательностями бит.</p><p>Рассмотрим пример</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">01000100 01000001 00111100 10000010 00101000</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Данное изображение может выглядеть так:</p><figure><img src="/images/textology_image9.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Описанный способ <a href="https://ru.wikipedia.org/wiki/%D0%9F%D0%B0%D0%BB%D0%B8%D1%82%D1%80%D0%B0_(%D0%BA%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%8F_%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0)" target="_blank" rel="noopener noreferrer">используется для кодирования изображений</a>, хотя сейчас популярны более современные способы кодирования изображений.</p><h2 id="кодировки-текста-и-юникод" tabindex="-1"><a class="header-anchor" href="#кодировки-текста-и-юникод"><span>Кодировки текста и Юникод</span></a></h2><p>С текстом ситуация обстоит точно так же как с цветами. Алфавит, вместе со знаками препинания, представляет собой множество символов, каждый из которых нужно закодировать. Для этого используются кодировки — таблицы соответствия между заданными последовательностями бит и символами алфавита. Говоря о кодировках и символе, всегда имеется в виду содержание символа, как элемента определенного алфавита, а не его конкретное начертание в определённом шрифте.</p><p>Указание что</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">01101110 = символ «n» английского алфавита</span>
<span class="line">...</span>
<span class="line">01101111 = символ «o» английского алфавита</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>говорит только что определённый код соответствует символу и определённого алфавита. Как будет выглядеть этот символ когда его увидит человек зависит от других факторов, которые мы обсудим далее.</p><p>Наиболее известной является 7-битная <a href="https://ru.wikipedia.org/wiki/ASCII" target="_blank" rel="noopener noreferrer">кодировка ASCII</a>. Она включает в себя символы английского алфавита, знаки препинания и служебные символы. Для примера, символ «g» в ней кодируется последовательностью бит «1101011». Но кроме английских букв необходимо хранить символы других языков. Из этой необходимости появились однобайтовые национальные кодировки.</p><p>Если кодировать текст из расчета один 8-битный байт на один символ, что было очень удобно и эффективно из-за технических особенностей, при малой мощности аппаратных систем, то остаётся один, незадействованный кодировкой ASCII бит. Этот бит позволяет добавить к таблице кодировки дополнительные 127 символов. Подобные кодировки были разработаны для разных национальных языков и компьютерных платформ. Например, для кириллицы была популярной кодировка <a href="https://ru.wikipedia.org/wiki/Windows-1251" target="_blank" rel="noopener noreferrer">win-1251</a>. В неё половина таблицы полностью соответствует ASCII, а вторая половина содержит дополнительные символы, например:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">01101101 = латинская «m»</span>
<span class="line">...</span>
<span class="line">11101101 = кириллическая «н»</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Такой способ давал относительную совместимость: английский текст при использовании любой кодировки отображался верно, а чтобы расшифровать текст с национальным алфавитом, нужно было знать в какой кодировке он был закодирован. При чтении текста в неверной кодировке он выглядел как набор случайных символов. Другими проблемами были необходимость производить преобразование из одной кодировки в другую и недостаточность количества символов в однобайтных кодировках для представления некоторых языков.</p><p>С развитием мощности компьютерных систем появились новые возможности кодирования текста. Современным мировым стандартом для этих целей является <a href="https://ru.wikipedia.org/wiki/%D0%AE%D0%BD%D0%B8%D0%BA%D0%BE%D0%B4" target="_blank" rel="noopener noreferrer">Юникод</a>. <a href="https://unicode-table.com/ru/" target="_blank" rel="noopener noreferrer">Таблица символов Юникода</a> определяет соответствие между заданным числом и символом называемое кодовой точкой <sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>. Речь пока идёт о простых числах, вроде 4, 23 и 3453. Существует достаточное количество чисел чтобы закодировать все мировые языки, большой набор знаков, спецсимволов и <a href="https://unicode-table.com/ru/emoji/" target="_blank" rel="noopener noreferrer">чего-угодно ещё</a>.</p><p>Наличия таблицы соответствия чисел и символов недостаточно. Для хранения текста нам нужно знать какая последовательность бит соответствует определённому символу. Для этого используются кодировки UTF-8, UTF-16BE, UTF-16LE и др. Наиболее популярна UTF-8, за счет своей совместимости с ASCII и часто наименьшего размера.</p><p>Совместимость UTF-8 с ASCII означает что последовательности бит для кодирования символов английского алфавита в этих кодировках совпадают, как и в случае с однобайтовыми национальными кодировками. По той же причине в названии присутствует число 8 — минимальное количество бит необходимых для хранения одного символа в этой кодировке. Если для английского символа нужен один байт, то для символов других алфавитов их понадобиться большее количество, например</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">11010001 10001011 = кириллическая буква «ы» в кодировке UTF-8</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Другие юникодные кодировки, вроде UTF-16LE, так же определяют параметры соответствия последовательности бит символам и различаются минимальной длиной для хранения одного символа и порядком байт.</p><p>Благодаря своей структуре Юникод позволяет полностью решить все проблемы связанные с обменом текстовой информацией: нет необходимости перекодирования из одной кодировки в другую, в кодировке есть символы для представления всех используемых языков и таблица символов регулярно пополняется. Текстологическая работа ориентирована на многоязычность, исходя из этого выбор Юникода для текстологической работы не имеет альтернатив. Обсуждаемым вопросом можно считать какую именно юникодную кодировку использовать.</p><p>Так как как юникодные кодировки свободно конвертируются друг в друга, то обязательным требованием можно считать только указание используемой кодировки в работе. Выбор же определенной кодировки можно произвести из анализа конкретной ситуации. UTF-8 удобно использовать из-за повсеместной поддержки и минимально размера если текст содержит много английских символов как, например, HTML разметка. С другой стороны, для китайского языка более оптимальным по размеру, скорее всего, окажется UTF-16.</p><h2 id="бинарные-и-текстовые-форматы" tabindex="-1"><a class="header-anchor" href="#бинарные-и-текстовые-форматы"><span>Бинарные и текстовые форматы</span></a></h2><p>После выбора способа кодирования символов у нас остаётся неразрешённым вопрос о том как кодировать не символьную информацию. Ведь автор, обычно, не производит просто последовательность символов, а делит текст на заголовки, абзацы и применяет другие способы выделения текста. С помощью кодировки мы можем закодировать последовательность символов, но как отделить заголовки от абзацев? Как и в примере с изображением, мы можем определить свой формат: сопоставить <strong>типы блоков текста</strong>, такие как абзац и заголовок и <strong>определенные последовательности бит</strong>, а затем объединить это с текстом в заданной кодировке. Например, формат может быть таким:</p><ul><li>Документ состоит из блоков;</li><li>Каждый блок начинается с заголовка блока и тела блока;</li><li>Заголовок включает в себя два однобайтовых поля: тип блока и длину тела блока в символах;</li><li>Тело блока состоит из символов в однобайтовой кодировке.</li></ul><p>Для типов блоков используем сопоставление</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">00000001 --- Заголовок</span>
<span class="line">00000010 --- Абзац</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Для упрощения, представим что мы используем однобайтовую кодировку win-1251 для кодирования символов. Текст состоящий из заголовка «1.» и абзаца «Привет» будет закодирован следующей последовательностью бит:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">00000001 00000010 00110001 00101110 00000002 00000110 11001111</span>
<span class="line">11110000 11101000 11100010 11100101 11110010</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>В этом формате можно заметить смешение двух подходов: часть информации закодирована с помощью текстовой кодировки, а часть по заданным отдельно сопоставлениям. Такие форматы называются бинарными, так как содержат нетекстовые данные.</p><p>Практика показала неудобство бинарных форматов, в особенности, для хранения текстов. К их недостаткам относится необходимость в специальном средстве для просмотра и редактирования. Файлы в таком формате нельзя редактировать через обычный текстовый редактор. Причем какие-то универсальные средства, вроде <a href="https://ru.wikipedia.org/wiki/Hex-%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%BE%D1%80" target="_blank" rel="noopener noreferrer">Hex-редактора</a> тоже будут не удобны, только специально написанная под эту задачу программа. Это существенно ограничивает распространение и универсальность таких форматов.</p><p>Альтернативой бинарным форматам являются текстовые форматы. Вся информация в них закодирована с помощью символов и их последовательностей. Например, мы знаем, что в тексте абзац не может начинаться с символа решётки «#», поэтому договариваемся, начинать с этого символа только заголовки. Закодируем, тот же текст из примера выше в таком виде:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line"># 1.</span>
<span class="line"></span>
<span class="line">Привет</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Немного упрощая реальную ситуацию, мы получили данные содержащие эквивалентную информацию, но теперь для их просмотра и редактирования не требуется специальные средства. С таким текстом можно работать на любом устройстве и платформе.</p><p>Так как текстологическая работа изначально должна опираться на как можно большую массовость и универсальность, то выбор текстовых форматов логичен. В данный момент большинство форматов для хранения и обработки текстов являются текстовыми форматами. К примеру, первые версии формата файлов Microsoft Word (doc) <a href="https://en.wikipedia.org/wiki/Doc_(computing)" target="_blank" rel="noopener noreferrer">были бинарными</a>, но позже были заменены на формат на текстовый формат на основе <a href="https://ru.wikipedia.org/wiki/XML" target="_blank" rel="noopener noreferrer">XML</a>, о котором будет сказано далее.</p><h2 id="печатные-и-непечатные-символы" tabindex="-1"><a class="header-anchor" href="#печатные-и-непечатные-символы"><span>Печатные и непечатные символы</span></a></h2><p>Стоит особо упомянуть, что говоря о символах мы не всегда имеем в виду букву алфавита или знак препинания, а в это понятие включается так же набор непечатаемых символов. Непечатаемые символы — это специальные символы, обычно не выводимые на экран, либо выводимые в особом виде или каким-то способом влияющие на отображение текста.</p><p>Пробел это один из непечатаемых символов. Самым распространенным, после пробела, примером является последовательность символов перевода строк. Эта последовательность обычно специфична для платформы, к примеру, в Windows она состоит из двух символов: возврат каретки (CR) и перевод строки (LF). При использовании Unicode текстологическая работа должна проводиться в <a href="https://ru.wikipedia.org/wiki/%D0%9F%D0%B5%D1%80%D0%B5%D0%B2%D0%BE%D0%B4_%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8" target="_blank" rel="noopener noreferrer">соответствии со стандартом</a>: допустимы символы CR, LF и их комбинация CR+LF считающиеся одним переводом строки. Для упрощения изложения далее под символом переноса строк понимается любая допустимая Unicode комбинация.</p><p>Текстовые редакторы обычно содержат настройки для отображения непечатаемых символов, поэтому их «непечатаемость» относительна. Главное понимать что их сущность не отличается от других символов: для Юникода это просто ещё одна кодовая точка (соответствие определённого числа символу), которая взаимнооднозначно отображается на последовательность бит через кодировку.</p><p>Рассмотрим детальнее некоторые непечатаемые символы и способы автоматизации работы с ними.</p><h3 id="неразрывныи-пробел-и-другие-пробельные-символы" tabindex="-1"><a class="header-anchor" href="#неразрывныи-пробел-и-другие-пробельные-символы"><span>Неразрывный пробел и другие пробельные символы</span></a></h3><p>Часто абзацы состоят из нескольких строк. Средства отображения текста автоматически разделяют абзац на несколько строк, разделяя текст по словам с помощью пробелов. В некоторых случаях пробелы разделяют слова или группы символов, которые всегда должны оставаться на одной строке, например, сокращения («т. п.», «т. е.») или инициалы («В. И. Ленин»). Чтобы такие слова оставались на одной строке применяются символы <a href="https://unicode-table.com/ru/00A0/" target="_blank" rel="noopener noreferrer">неразрывного пробела</a>. Внешне они выглядят как пробелы, но имеют отличный от обычного пробела Unicode код. Если неразрывный пробел находится между словами, то эти слова всегда будут отображены на одной строке.</p><p>Неразрывные пробелы можно расставлять вручную, но это с одной стороны трудозатратно, а с другой не эффективно — очень тяжело учесть все места где они необходимы, их гораздо больше чем приведено выше. Несмотря на это, правила расстановки неразрывных пробелов хорошо формализуются, а следовательно их можно автоматизировать. Примеры типографов, автоматизирующих расстановку неразрывных пробелов: <a href="https://github.com/byashimov/typus" target="_blank" rel="noopener noreferrer">typus</a>, <a href="https://github.com/diveru4i/typograf" target="_blank" rel="noopener noreferrer">Типограф Евгения Лепёшкина</a>, <a href="http://mdash.ru/" target="_blank" rel="noopener noreferrer">Типограф Муравьёва</a>. Для разных языков, из-за отличий типографических правил понадобиться применять разные средства.</p><p>Кроме неразрывного и обычного применяются и <a href="https://habr.com/ru/post/23250/" target="_blank" rel="noopener noreferrer">другие виды пробелов</a>. Их использование тоже автоматизируется.</p><h3 id="мягкии-перенос" tabindex="-1"><a class="header-anchor" href="#мягкии-перенос"><span>Мягкий перенос</span></a></h3><p>Кроме переноса отдельных слов, часто используется перенос части слова на следующую строку. Такой перенос позволяет получить более пропорциональные строки которые удобнее читать. Средство отображение может либо само делить слова по <a href="http://new.gramota.ru/biblio/readingroom/rules/141-perenos" target="_blank" rel="noopener noreferrer">правилам переноса</a>, либо использовать символы <a href="https://unicode-table.com/ru/00AD/" target="_blank" rel="noopener noreferrer">мягкого переноса</a> из текста. Символ мягкого переноса ставится между буквами слова в местах где правилами разрешен перенос; если слово находится на границе двух строк и при переносе его части строка получается более пропорциональной, то средство переносит часть слова на следующую строку, а на месте символа мягкого переноса помещает <a href="https://unicode-table.com/ru/2010/" target="_blank" rel="noopener noreferrer">дефис</a>.</p><p>Для автоматической расстановки мягких переносов применяется <a href="https://habr.com/ru/post/138088/" target="_blank" rel="noopener noreferrer">алгоритм Алгоритм Ляна-Кнута</a> и уже есть готовые, основанные на нём, программные средства: <a href="https://pyphen.org/" target="_blank" rel="noopener noreferrer">pyphen</a>, <a href="https://github.com/mnater/Hyphenopoly" target="_blank" rel="noopener noreferrer">Hyphenopoly</a>, <a href="https://github.com/hyphenation/tex-hyphen" target="_blank" rel="noopener noreferrer">tex-hyphen</a> и др. Как и в случае с неразрывными пробелами, необходимость ручной расстановки символов мягкого переноса отсутствует.</p><p>Обозначим основной принцип: использовать только видимые символы, пробелы и переносы строк, а работу с другими символами стараться автоматизировать.</p><h3 id="другие-символы-юникода" tabindex="-1"><a class="header-anchor" href="#другие-символы-юникода"><span>Другие символы юникода</span></a></h3><p>Отдельно стоит отметить, что автоматизировать можно и работу с печатными символами: <a href="https://unicode-table.com/ru/2014/" target="_blank" rel="noopener noreferrer">длинное тире</a>, <a href="https://unicode-table.com/ru/2032/" target="_blank" rel="noopener noreferrer">знак штриха</a>, <a href="https://unicode-table.com/ru/sets/numerals/#fractions" target="_blank" rel="noopener noreferrer">дроби</a> и т. п. Для быстрого ввода существуют <a href="https://ilyabirman.ru/projects/typography-layout/" target="_blank" rel="noopener noreferrer">специальные раскладки</a>, а для автоматизации вышеупомянутые типографы.</p><p>Итак, мы можем завершить использование абстракции данных в виде последовательности бит и сосредоточиться на более высокоуровневой абстракции данных как последовательности символов, что упростит дальнейший анализ.</p><h2 id="внешнии-вид-и-разметка" tabindex="-1"><a class="header-anchor" href="#внешнии-вид-и-разметка"><span>Внешний вид и разметка</span></a></h2><p>Прежде чем рассмотреть какую именно информацию мы хотим зафиксировать в результате текстологической работы остановимся детальнее на принципе отделения внешнего вида от самой разметки. Способ которым мы, в примере выше, выделили заголовок</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line"># 1.</span>
<span class="line"></span>
<span class="line">Привет</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>называется разметкой — набор формальных (строго заданных) правил по которым часть текста выделяется и наделяется особым смыслом. Это похоже на правила по которым мы определяли бинарные форматы, но только более сложные. Правила разметки могут определять какого цвета текст, тип шрифта, является ли текст заголовком или цитатой и любые другие вещи которые авторы разметки захотели выделить в тексте. Назовём подобные правила элементами разметки. Элементы разметки выделяют часть текста (блок) и наделяют его особым смыслом или свойствами.</p><p>Элементы разметки можно разделить на две группы: те, что определяет чем является элемент и те, что определяют то как выглядит элемент.</p><p>То как текст выглядит зависит от множества факторов. Для начала, пойдет ли текст на печать или будет воспроизведен на электронном устройстве. Для электронного устройства сразу возникают вопросы про тип, размер и цветопередачу экрана. Кроме того, часто сам читающий может настроить параметры отображения текста так как ему хочется. Мы ещё не упоминали про такие специфические формы как <a href="https://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D0%BD%D1%82%D0%B5%D0%B7_%D1%80%D0%B5%D1%87%D0%B8" target="_blank" rel="noopener noreferrer">автоматическое чтение вслух</a> или <a href="http://braille.su/" target="_blank" rel="noopener noreferrer">конвертеры в азбуку Брайля</a>.</p><p>Таким образом, если цель — максимальное распространение и доступность материалов, не имеет смысла и даже вредно задавать в разметке специфические для внешнего вида текста параметры. К таким параметрам относятся: гарнитура и размер шрифта, межабзацное и межстроковое расстояние, выравнивание текста абзацев и др.</p><p>С другой стороны, отвлечься от внешнего вида полностью нельзя. Автор не выражает свою мысль исключительно последовательностью букв алфавита и знаков препинания. Могут использоваться разного рода выделения, подчеркивания, композиция текста. Разметка должна иметь все возможности для выражения замысла автора:</p><p>Само собой разумеется, что текстолог обязан сохранять в неприкосновенности авторское расположение текста, даже если оно противоречит издательским инструкциям.</p><blockquote><p>«Лесенка» Маяковского, короткая строчка-абзац В. Шкловского или противоречащее, казалось бы, грамматическим правилам расположение строк у В. М. Дорошевича — их творческое достижение и должно быть сохранено. <sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></p></blockquote><p>Выходит, что несмотря на первичность самого текста, некоторые возможности разметки касающиеся внешнего вида тоже необходимы. Конкретный набор таких возможностей требует дальнейшей проработки, которая должна непосредственно опираться на возникающие в текстологической практике примеры. Сейчас же мы можем остановиться только на том, что задача текстологии не сводится к воспроизведению рукописи или бумажного издания в том виде, в котором оно существует, так как для этого полностью подходит только фотокопия. Если для специфической задачи нужен именно такой уровень детализации, то к фотокопии и будет обращаться исследователь.</p><p>Развивая эту логику далее, мы приходим к выводу, что нет смысла использовать или брать за основу стандарты направленные на воспроизведение печатного варианта: <a href="https://ru.wikipedia.org/wiki/Office_Open_XML" target="_blank" rel="noopener noreferrer">docx</a>, <a href="https://en.wikipedia.org/wiki/OpenDocument" target="_blank" rel="noopener noreferrer">ODF</a>, <a href="https://ru.wikipedia.org/wiki/Rich_Text_Format" target="_blank" rel="noopener noreferrer">RTF</a>, варианты <a href="https://ru.wikipedia.org/wiki/TeX" target="_blank" rel="noopener noreferrer">TeX</a>, <a href="https://ru.wikipedia.org/wiki/Portable_Document_Format" target="_blank" rel="noopener noreferrer">PDF</a>. Эти форматы с одной стороны предоставляют излишние возможности по управлению внешним видом (а излишние возможности усложняют работу и повышают вероятность ошибок), а с другой все равно не позволяют разметить всю информацию, необходимую для текстологии, так как разметка, <strong>по большей части, должна выделять логические аспекты текста, а не его внешнего вида</strong>.</p><p>Применение средств направленных на форматирование внешнего вида затрудняет дальнейшие задачи по обработке текста: конвертацию, сравнение, комментирование. Участникам текстологической работы, приходиться следить за такими параметрами текста, как размер шрифта или стиль выравнивания текста в абзацах. Такая работа сложно автоматизируется, при необходимости поменять стиль заголовков в нескольких файлах docx или OTD приодеться отредактировать все эти файлы вручную, или использовать специальные программные средства более-менее автоматически редактирующие эти файлы. Решение придумано давно и заключается в отделении разметки, от стилизации внешнего вида. Такого принципа придерживается формат HTML5: разметка (HTML) и стили (<a href="https://en.wikipedia.org/wiki/CSS" target="_blank" rel="noopener noreferrer">CSS</a>) отвечающие за внешний вид могут храниться раздельно. Похожий принцип используется в форматах <a href="https://ru.wikipedia.org/wiki/DocBook" target="_blank" rel="noopener noreferrer">DocBook</a> и <a href="https://ru.wikipedia.org/wiki/LaTeX" target="_blank" rel="noopener noreferrer">LaTeX</a>.</p><p>Отделение внешнего вида от разметки позволяет сосредоточиться при вычитке и других работах на самом тексте, а не на его внешнем виде. Другое преимущество — возможность нескольких представлений для одного текста: разные стили могут использоваться для разных устройств или ситуаций. Изменение одного стиля автоматически оказывает влияние на все ранее созданные тексты, без необходимости их изменения.</p><p>Стоит отметить, что принцип отделения разметки и внешнего представления, более универсален и может быть реализован, даже без использования поддерживающего его формата, такого как HTML. Например, сходных результатов можно достичь применяя <a href="https://pandoc.org/" target="_blank" rel="noopener noreferrer">Pandoc</a> для конвертации из одного формата в множество других. Для каждого целевого формата, возможно задать отдельные <a href="https://pandoc.org/MANUAL.html#templates" target="_blank" rel="noopener noreferrer">файлы со стилями или шаблоны</a>, даже если сам формат (такой как docx) не поддерживает их.</p><p>Итак, в текстологической работе следует сосредоточиться на содержании, а всю работу по внешнему виду, стилизации и конвертации текстов автоматизировать. Форматы направленные на воспроизводство печатной книги мало подходят для текстологии.</p><h2 id="элементы-разметки" tabindex="-1"><a class="header-anchor" href="#элементы-разметки"><span>Элементы разметки</span></a></h2><p>Наметив, в первом приближении способ разметки — с помощью текста, продолжим рассмотрение того <strong>что именно мы хотим разметить</strong>. С одной стороны точно нужно включить в результат работы все символы авторского текста, с другой нам не требуется сохранять цвет шрифта или ширину полей печатного издания. Между этими крайностями есть огромное количество вариантов. Формирование точного набора элементов необходимых для фиксации в разметке требует широкой, в том числе международной дискуссии. Далее мы представляем, скорее размышление по поводу необходимого или лишнего, чем готовое для использования руководство.</p><p>При обсуждении элементов разметки ещё раз стоит отметить проблему различения бумажного издания и авторского текста:</p><blockquote><p>Не говоря о повсеместной неспособности организационно и технически отделить имитацию бумажного издания от воспроизведения авторского текста, то есть неспособности решить главный вопрос текстологии. Не говоря также о почти полном отсутствии попыток синтеза разметки бумажного издания и авторского текста («раздвоение единого...» и т. д) нужно отметить принципиальную невозможность (по политическим и экономическим причинам) выработать в рамках одного языка ориентиры текстологической работы. <sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup></p></blockquote><p>Бумажное издание (как в определённом смысле и рукопись) является только оболочкой, формой в которой выражен авторский замысел. Нет нужды отображать в разметке <strong>все</strong> аспекты бумаги, но в то же время нельзя и упустить что-то влияющие на авторский замысел.</p><h3 id="абзацы" tabindex="-1"><a class="header-anchor" href="#абзацы"><span>Абзацы</span></a></h3><figure><img src="/images/textology_image12.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Существую <a href="https://ru.wikipedia.org/wiki/%D0%9E%D1%82%D1%81%D1%82%D1%83%D0%BF#%D0%90%D0%B1%D0%B7%D0%B0%D1%86%D0%BD%D1%8B%D0%B9_%D0%BE%D1%82%D1%81%D1%82%D1%83%D0%BF" target="_blank" rel="noopener noreferrer">разные способы выделения абзацев</a> в тексте, но они не влияют на его назначение — группировку предложений. Самый простой способ деления текста на абзацы — использование символов переноса строки.</p><h3 id="принудительныи-перенос" tabindex="-1"><a class="header-anchor" href="#принудительныи-перенос"><span>Принудительный перенос</span></a></h3><p>Отдельного вопроса заслуживает необходимость наличия в разметке возможности принудительного переноса. Принудительный перенос позволяет включить в один абзац несколько строк, это похоже, на элемент &lt;br\&gt; в HTML.</p><p>Некоторые форматы (например, <a href="https://ru.wikipedia.org/wiki/FictionBook" target="_blank" rel="noopener noreferrer">fb2</a> принципиально отказываются от него, так как их авторы считают, что для выражения смысла должно быть достаточно абзацев, списков, и элементов для стихотворений.</p><h3 id="заголовки-и-подзаголовки" tabindex="-1"><a class="header-anchor" href="#заголовки-и-подзаголовки"><span>Заголовки и подзаголовки</span></a></h3><figure><img src="/images/textology_image13.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Необходима возможность разметки заголовков разных уровней и подзаголовков. Заголовки отображаются в оглавлении, а подзаголовки, обычно, нет.</p><h3 id="эпиграфы" tabindex="-1"><a class="header-anchor" href="#эпиграфы"><span><strong>Эпиграфы</strong></span></a></h3><figure><img src="/images/textology_image17.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Эпиграфы идут после заголовка и, обычно, выделяется бОльшим отступом.</p><h3 id="выделения-в-тексте-акцент" tabindex="-1"><a class="header-anchor" href="#выделения-в-тексте-акцент"><span><strong>Выделения в тексте (Акцент)</strong></span></a></h3><figure><img src="/images/textology_image11.png" alt="" tabindex="0"><figcaption></figcaption></figure><figure><img src="/images/textology_image6.png" alt="" tabindex="0"><figcaption></figcaption></figure><p><a href="https://ru.qaz.wiki/wiki/Emphasis_(typography)" target="_blank" rel="noopener noreferrer">Акцент</a> применяется для выделения отдельный слов или участков текста. Традиции выделений в тексте зависят от страны и меняются со временем. Сейчас чаще всего приходиться сталкиваться с <a href="https://ru.wikipedia.org/wiki/%D0%9A%D1%83%D1%80%D1%81%D0%B8%D0%B2" target="_blank" rel="noopener noreferrer">курсивом</a> и <a href="https://ru.wikipedia.org/wiki/%D0%96%D0%B8%D1%80%D0%BD%D1%8B%D0%B9_%D1%88%D1%80%D0%B8%D1%84%D1%82" target="_blank" rel="noopener noreferrer">жирным шрифтом</a>.</p><figure><img src="/images/textology_image14.png" alt="" tabindex="0"><figcaption></figcaption></figure><p><a href="https://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D0%B7%D1%80%D1%8F%D0%B4%D0%BA%D0%B0_(%D1%82%D0%B8%D0%BF%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0)" target="_blank" rel="noopener noreferrer">Разрядку</a> стоит заменять на жирный шрифт, так как она не используется в современной типографике.</p><p>Есть и другие элементы, необходимость которых следует ещё обосновать: подчеркивание, зачёркивание, <a href="https://ru.wikipedia.org/wiki/%D0%9D%D0%B0%D0%BA%D0%BB%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9_%D1%88%D1%80%D0%B8%D1%84%D1%82" target="_blank" rel="noopener noreferrer">наклонный шрифт</a> и др.</p><h3 id="цитаты" tabindex="-1"><a class="header-anchor" href="#цитаты"><span>Цитаты</span></a></h3><figure><img src="/images/textology_image10.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Для цитат, кроме самого текста, необходима ссылка на автора цитаты и на источник. Это позволит проводить автоматическую сверку цитат или переход к цитируемому произведению, о чём будет детальнее сказано далее.</p><p>Для цитат, ссылок на произведения в библиографическом списке и в примечаниях следует использовать формат совместимый с <a href="https://citationstyles.org/" target="_blank" rel="noopener noreferrer">Citation Style Language</a>. Это позволит автоматически подстраивать вывод ссылок по академическим правилам любой страны, университета или издания, а так же импортировать закладки в популярные библиографические менеджеры, такие как <a href="https://www.zotero.org" target="_blank" rel="noopener noreferrer">Zotero</a> и <a href="https://www.mendeley.com" target="_blank" rel="noopener noreferrer">Mendeley</a>.</p><p>Принцип органического встраивания CSL в текстологическую работу требует дальнейшей проработки. Тесная интеграция с этой системой выглядит перспективной.</p><h3 id="изображения" tabindex="-1"><a class="header-anchor" href="#изображения"><span>Изображения</span></a></h3><figure><img src="/images/textology_image18.png" alt="" tabindex="0"><figcaption></figcaption></figure><figure><img src="/images/textology_image3.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Изображения можно хранить в виде файла, а в разметке только указывать ссылку на него, а можно <a href="https://ru.wikipedia.org/wiki/Base64" target="_blank" rel="noopener noreferrer">кодировать</a> прямо внутри текстового формата. Для изображений необходимо указание заголовка. В некоторых случаях рядом с изображением находится подпись или комментарий, их тоже было бы полезно отразить в разметке.</p><p>Подписи и описания изображений могут использоваться для автоматического построения указателя иллюстраций.</p><h3 id="схемы-и-графики" tabindex="-1"><a class="header-anchor" href="#схемы-и-графики"><span>Схемы и графики</span></a></h3><figure><img src="/images/textology_image5.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Кроме фотографий, в качестве изображений выступают разного рода схемы и графики. Их можно представить в виде изображений, но это не самый лучший способ. Мы получаем проблемы сходные с теми из-за которых пришлось отказаться от бинарных форматов. Предположим, на схеме имеется несколько подписей. Если это изображение, то для перевода на каждый язык переводчику необходимо будет его редактировать в графическом редакторе. Это трудозатратно и с большой вероятностью приведет к ухудшению качества изображения. Ещё одна важная сторона, <a href="https://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B2%D0%B0%D1%8F_%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0" target="_blank" rel="noopener noreferrer">растровые изображения</a> теряют в качестве при масштабировании, что ухудшает возможности просмотра схем на разных устройствах. Кроме того, бинарный формат изображения не позволит в автоматическом режиме проверить и отобразить различия между переводом и оригиналом.</p><p>Выходом является использование <a href="https://ru.wikipedia.org/wiki/%D0%92%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D0%B0%D1%8F_%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0" target="_blank" rel="noopener noreferrer">векторной графики</a>. В отличии от растровой, где изображение задано ограниченным набором точек, векторное изображение задается с помощью математических формул, оно не привязано к определённому разрешению и хорошо масштабируется. Для большинства случаев можно использовать популярный <strong>текстовый формат</strong> векторной графики <a href="https://ru.wikipedia.org/wiki/SVG" target="_blank" rel="noopener noreferrer">SVG</a>. То что он - текстовый, позволяет переводчику только изменить надписи, причем через любой текстовый редактор, как и для остального текста <sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup>.</p><p>SVG позволяет нарисовать любое изображения и следовательно его возможности могут быть избыточны. Для более простых случаев можно использовать специализированные языки с тем же результатом: изображение будет задаваться с помощью текста, что облегчит перевод, сравнение и модификацию. Примеры таких языков: <a href="https://graphviz.org/" target="_blank" rel="noopener noreferrer">GraphViz</a> и <a href="https://mermaid-js.github.io/mermaid/#/" target="_blank" rel="noopener noreferrer">Mermaid</a>.</p><h3 id="формулы" tabindex="-1"><a class="header-anchor" href="#формулы"><span>Формулы</span></a></h3><figure><img src="/images/textology_image15.png" alt="" tabindex="0"><figcaption></figcaption></figure><figure><img src="/images/textology_image7.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Ситуация с формулами сходна с со схемами и графиками — их удобнее всего отображать в виде текста. Это облегчает редактирование и перевод. Сейчас есть несколько подходящих для этого языков: <a href="https://ru.wikipedia.org/wiki/MathML" target="_blank" rel="noopener noreferrer">MathML</a>, <a href="http://asciimath.org/" target="_blank" rel="noopener noreferrer">AsciiMath</a> и формулы на <a href="https://ru.wikipedia.org/wiki/LaTeX" target="_blank" rel="noopener noreferrer">LaTeX</a>.</p><p>Наиболее перспективным выглядит использовать LaTeX: его просто редактировать и есть хорошие средства для визуализации (<a href="https://www.mathjax.org/" target="_blank" rel="noopener noreferrer">MathJax</a> и <a href="https://katex.org/" target="_blank" rel="noopener noreferrer">KaTeX</a>).</p><h3 id="примечания-и-комментарии" tabindex="-1"><a class="header-anchor" href="#примечания-и-комментарии"><span>Примечания и комментарии</span></a></h3><figure><img src="/images/textology_image19.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Так как одна из задач текстологии — воспроизведение авторского понимания текста, необходима возможность деления примечаний на авторские и все остальные. Необходимость более глубокой детализации под вопросом, возможно, будет полезно выделение следующих типов примечаний: библиографическая ссылка, перевод слова, комментарий, примечание для переводчика. Возможно, необходимость такой детализации отпадёт при использовании концепции слоёв, описанной далее.</p><p>Примечания могут состоять из нескольких абзацев, разметка должна это учитывать. Для примечаний со ссылками на источники относится всё указанное касательно CSL в разделе про цитаты.</p><h3 id="номера-страниц" tabindex="-1"><a class="header-anchor" href="#номера-страниц"><span>Номера страниц</span></a></h3><p>Из-за того, что цитаты, предметные указатели и библиографические списки сейчас используют номера страниц, то при переводе книг в современный электронный вид полезно сохранять номера страниц печатного оригинала. Соответственно, для этого необходимы средства в разметке. Вероятно, это временная, вспомогательная, не всегда необходимая мера. В некотором смысле, номера страниц связывают авторский текст с его выражением в конкретном издании. Возможно, номера страниц больше полезны для рукописей, чем для печатных изданий.</p><h3 id="стихотворения" tabindex="-1"><a class="header-anchor" href="#стихотворения"><span>Стихотворения</span></a></h3><figure><img src="/images/textology_image8.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Из-за проблем с экспортом в другие форматы, каждую строку стихотворения неудобно отмечать абзацем, и она по сути им и не является. Логичной выглядит разметка строф и строк в стихотворении. Похожие элементы разметки <code>poem</code>, <code>stanza</code>, <code>v</code> реализованы в <a href="http://www.fictionbook.org/index.php/%D0%AD%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82_poem" target="_blank" rel="noopener noreferrer">FB2</a>.</p><p>Данный элемент разметки требует более детального исследования, так как есть сложные случаи, такие как стихи Владимира Маяковского.</p><h3 id="разделитель" tabindex="-1"><a class="header-anchor" href="#разделитель"><span>Разделитель</span></a></h3><figure><img src="/images/textology_image16.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Иногда, внутри одной главы абзацы разделяются на группы, без указания осмысленного заголовка. Для отображения этого потребуется отдельный элемент — разделитель.</p><h3 id="маркированные-и-нумерованные-списки" tabindex="-1"><a class="header-anchor" href="#маркированные-и-нумерованные-списки"><span><strong>Маркированные и нумерованные списки</strong></span></a></h3><p>Список состоит из последовательности абзацев. Списки бывают многоуровневые — один список является элементом другого списка.</p><h3 id="таблицы" tabindex="-1"><a class="header-anchor" href="#таблицы"><span><strong>Таблицы</strong></span></a></h3><figure><img src="/images/textology_image2.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Таблицы это один самых сложных элементов для разметки. Можно посоветовать размечать простые варианты текстом, а сложные варианты с использованием, упомянутого при обсуждении схем, формата векторной графики <a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics" target="_blank" rel="noopener noreferrer">SVG</a>.</p><p>Как и при обсуждении других элементов, цель в выделении авторского замысла, а не в фиксации той формы в которой он задан. Поэтому не всегда необходимо стремиться воспроизвести сложные элементы именно так как они были напечатаны в исходной книге. Вот элементы которые, вероятно, необходимо выражать в разметке:</p><ul><li>Непосредственно сама таблица — набор строк и столбцов;</li><li>Заголовок таблицы (как для изображений);</li><li>Шапка таблицы (выделенная строка);</li><li>Подпись или комментарий к таблице;</li><li>Объединение ячеек по столбцам и строкам.</li></ul><p>В некоторых случаях может потребоваться добавлять внутрь ячеек другие элементы: абзацы, списки, изображения и др.</p><h3 id="блоки-кода" tabindex="-1"><a class="header-anchor" href="#блоки-кода"><span>Блоки кода</span></a></h3><figure><img src="/images/textology_image4.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>В относительно современной литературе (например, книги Глушкова В. М.) встречаются примеры кода на языках программирования. Отдельное выделение таких блоков необходимо, так как они требуют особой обработки при экспорте из системы: <a href="https://ru.wikipedia.org/wiki/%D0%9C%D0%BE%D0%BD%D0%BE%D1%88%D0%B8%D1%80%D0%B8%D0%BD%D0%BD%D1%8B%D0%B9_%D1%88%D1%80%D0%B8%D1%84%D1%82" target="_blank" rel="noopener noreferrer">шрифт с равной шириной букв</a>, <a href="https://en.wikipedia.org/wiki/Syntax_highlighting" target="_blank" rel="noopener noreferrer">подсветка исходного кода</a>, обязательное сохранение пробелов в том виде в котором они введены.</p><h3 id="другие-элементы" tabindex="-1"><a class="header-anchor" href="#другие-элементы"><span>Другие элементы</span></a></h3><figure><img src="/images/textology_image1.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>Остаётся ещё ряд элементов разметки необходимых для специализированных изданий, например, индексы в переводах с греческого.</p><p>Для некоторых ситуаций можно подобрать уже готовые языки текстовой разметки, например, <a href="https://ru.wikipedia.org/wiki/LilyPond" target="_blank" rel="noopener noreferrer">для нот</a>.</p><p>На первом этапе, разумно включить в основную разметку элементы покрывающие подавляющие большую часть случаев, а для остального предусмотреть возможности для расширения.</p><h3 id="экранирование-элементов-разметки" tabindex="-1"><a class="header-anchor" href="#экранирование-элементов-разметки"><span>Экранирование элементов разметки</span></a></h3><p>Так как элементы разметки задаются внутри текста символами обычного текста, то иногда может потребоваться ввести эти же элементы именно как текст, а не как элементы разметки. При правильно выбранном способе разметки это редкая ситуация, но её нужно предусмотреть. Один из вариантов это использование экранирующего символа.</p><p>Например, мы решили выделять курсивный текст символом *. Чтобы ввести этот символ в текст не как элемент разметки, перед ним записывается другой специально определённый экранирующий символ, например, \. Если же нам нужно ввести сам экранирующий символ, то просто вводим его два раза \\.</p><h3 id="вложенность-элементов-разметки" tabindex="-1"><a class="header-anchor" href="#вложенность-элементов-разметки"><span>Вложенность элементов разметки</span></a></h3><p>Все описанные выше элементы не всегда просто следуют друг за другом, но часто вкладываются друг в друга. Разметка должна позволять адекватно задать эту вложенность. Например, цитата или примечания может содержать несколько абзацев, а абзац может содержать внутри себя выделения курсивом или жирным шрифтом.</p><h2 id="эквивалентность-текстовых-форматов" tabindex="-1"><a class="header-anchor" href="#эквивалентность-текстовых-форматов"><span>Эквивалентность текстовых форматов</span></a></h2><p>Определив, в первом приближении, что мы хотим разметить в тексте, становится понятно, что полностью подходящего по всем параметрам языка разметки ещё не существует. Но, может быть, существует близкий, в достаточной мере подходящий чтобы начать с него. Для сравнения нам требуются какие-то критерии, чтобы их выработать остановимся детальнее на принципах по которым происходит машинная обработка текста.</p><p>Суть любой разметки сводится к описанию <a href="https://ru.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0" target="_blank" rel="noopener noreferrer">формальной грамматики</a> — способа задать некоторые правила, по которым можно однозначно определить является ли данный текст правильным с точки зрения данной грамматики или нет. Для того чтобы это проверить рассмотрим один из способов анализа двух фрагментов текста: в разметке Markdown и в HTML. Пример будет немного упрощен, но он позволит увидеть наиболее важные стороны рассматриваемого процесса.</p><p>Фрагмент в Markdown:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line"># Пример</span>
<span class="line"></span>
<span class="line">Абзац с **выделенным** текстом</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Фрагмент в HTML:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">&lt;h1&gt;Пример&lt;/h1&gt;</span>
<span class="line"></span>
<span class="line">&lt;p&gt;Абзац с &lt;strong&gt;выделенным&lt;/strong&gt; текстом&lt;/p&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Следуя принципу деления на уровни абстракции, программа обычно делит разбор данного текста на два этапа: <a href="https://ru.wikipedia.org/wiki/%D0%9B%D0%B5%D0%BA%D1%81%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7" target="_blank" rel="noopener noreferrer">лексический анализ</a> и <a href="https://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D0%BD%D1%82%D0%B0%D0%BA%D1%81%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7" target="_blank" rel="noopener noreferrer">синтаксический анализ</a>.</p><p>При лексическом анализе на вход подаётся последовательность символов, а на выходе получается набор лексем. Лексемами являются логически сгруппированные наборы символов с присваиванием им определённого типа, примерно, как буквы в одном слове. Для наших примеров последовательности токенов могут быть следующие:</p><p>Фрагмент в Markdown:</p><ol><li>Заголовок (&quot;#&quot;)</li><li>Текст (&quot;Пример&quot;)</li><li>Перевод строки</li><li>Перевод строки</li><li>Текст (&quot;Абзац с &quot;)</li><li>Жирный шрифт (&quot;**&quot;)</li><li>Текст (&quot;выделенным&quot;)</li><li>Жирный шрифт (&quot;**&quot;)</li><li>Текст (&quot; текстом&quot;)</li></ol><p>Фрагмент в HTML:</p><ol><li>Начало заголовка (&quot;&lt;h1&gt;&quot;)</li><li>Текст (&quot;Пример&quot;)</li><li>Окончание заголовка (&quot;&lt;/h1&gt;&quot;)</li><li>Начало абзаца (&quot;&lt;p&gt;&quot;)</li><li>Текст (&quot;Абзац с &quot;)</li><li>Начало выделения жирным (&quot;&lt;strong&gt;&quot;)</li><li>Текст (&quot;выделенным&quot;)</li><li>Окончание выделения жирным (&quot;&lt;/strong&gt;&quot;)</li><li>Текст (&quot; текстом&quot;)</li><li>Окончание абзаца (&quot;&lt;/p&gt;&quot;)</li></ol><p>Отметим важную особенность: последовательности символов для токенов могут быть любые, если они подчиняются формальным правилам. Для Markdown перевод строки можно считать полноценным токеном, а HTML игнорирует переводы строки и они не влияют на результат <sup class="footnote-ref"><a href="#fn7" id="fnref7">[7]</a></sup>.</p><p>После лексического анализа последовательности токенов передаются синтаксическому анализатору. Он уже не работает с отдельными символами, его интересуют только типы токенов. Во время фазы синтаксического анализа одновременно происходит проверка правил разметки (например, чтобы внутри одного заголовка не добавили второй) и формирование <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree" target="_blank" rel="noopener noreferrer">абстрактного синтаксического дерева</a> (AST) — структуры с которой далее и будет работать программа. Синтаксическое <a href="https://ru.wikipedia.org/wiki/%D0%94%D0%B5%D1%80%D0%B5%D0%B2%D0%BE_(%D1%82%D0%B5%D0%BE%D1%80%D0%B8%D1%8F_%D0%B3%D1%80%D0%B0%D1%84%D0%BE%D0%B2)" target="_blank" rel="noopener noreferrer">дерево</a> состоит из связанный друг с другом узлов. Есть корневой узел — документ, и дочерние от него узлы, которые так же могут содержать свои дочерние узлы.</p><p>Рассмотрим правила по которым может быть сформировано AST для Markdown.</p><ol><li>Элемент Заголовок начинается с токена Заголовок и завершается токеном Перевод строки;</li><li>Отдельный токен Перевод строки игнорируется;</li><li>Элемент Абзац начинается с токена Текст и завершается токеном Перевод строки или концом документа;</li><li>Элемент Жирный шрифт начинается с токена Жирный шрифт и оканчивается токеном Жирный шрифт.</li></ol><p>При применении этих правил получаем следующее AST:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Документ</span>
<span class="line">|- Заголовок</span>
<span class="line">|- Абзац</span>
<span class="line">|- Жирный текст</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Теперь рассмотрим возможные правила для HTML:</p><ol><li>Элемент Заголовок начинается с токена Начало заголовка и оканчивается токеном Окончание заголовка;</li><li>Элемент Абзац начинается с токена Начало абзаца и оканчивается токеном Окончание абзаца;</li><li>Элемент Жирный шрифт начинается с токена Начало выделения жирным и оканчивается токеном Окончание выделения жирным.</li></ol><p>Самое важное, что при применении этих правил мы получим то AST аналогичное тому что получили при разборе примера на Markdown! Информация об исходной разметке была утрачена при переходе к представлению текста внутри системы. Далее AST может быть преобразовано в другой вид, отображено на экране (естественно в удобном для чтения или другой работы виде) или использовано для генерации электронной книге. Машине не важно как именно, какими символами была задана разметка, а важно только что она выражает.</p><h2 id="тяжелая-и-легкая-текстовая-разметка" tabindex="-1"><a class="header-anchor" href="#тяжелая-и-легкая-текстовая-разметка"><span>Тяжелая и лёгкая текстовая разметка</span></a></h2><p>Рассмотрим детальнее для чего нам нужна разметка. Нам необходимо выделить в тексте все элементы, важные для отражения авторского замысла. Как мы убедились выше, для машины нет особого значения в какой форме, какими именно символами будет производиться разметка. Но если это не важно для машины, то это важно для человека. Человеку должно быть просто и удобно</p><ol><li>Вводить текст в выбранной разметке;</li><li>Читать текст в выбранной разметке.</li></ol><p>Рассмотрим два варианта, текст в формате DocBook предназначенный для разметки документов и аналогичный текст в формате Markdown.</p><p>Текст в DocBook:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="line">&lt;book xml:id=&quot;simple_book&quot; xmlns=&quot;http://docbook.org/ns/docbook&quot; version=&quot;5.0&quot;&gt;</span>
<span class="line">  &lt;title&gt;Very simple book&lt;/title&gt;</span>
<span class="line">  &lt;chapter xml:id=&quot;chapter_1&quot;&gt;</span>
<span class="line">    &lt;title&gt;Chapter 1&lt;/title&gt;</span>
<span class="line">    &lt;para&gt;Hello world!&lt;/para&gt;</span>
<span class="line">    &lt;para&gt;I hope that your day is proceeding &lt;emphasis&gt;splendidly&lt;/emphasis&gt;!&lt;/para&gt;</span>
<span class="line">   &lt;/chapter&gt;</span>
<span class="line"></span>
<span class="line">   &lt;chapter xml:id=&quot;chapter_2&quot;&gt;</span>
<span class="line">     &lt;title&gt;Chapter 2&lt;/title&gt;</span>
<span class="line">     &lt;para&gt;Hello again, world!&lt;/para&gt;</span>
<span class="line">   &lt;/chapter&gt;</span>
<span class="line">&lt;/book&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Текст в Markdown:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line"># Very simple book</span>
<span class="line"></span>
<span class="line">## Chapter 1</span>
<span class="line"></span>
<span class="line">Hello world!</span>
<span class="line"></span>
<span class="line">I hope that your day is proceeding **splendidly**!</span>
<span class="line"></span>
<span class="line">## Chapter 2</span>
<span class="line"></span>
<span class="line">Hello again, world!</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Очевидно, что второй вариант гораздо проще для чтения и редактирования, даже если применить такой примитивный критерий как подсчет количества символов. Рассмотрим детальнее их различия.</p><p>DocBook относится к языкам разметки основанным на <a href="https://ru.wikipedia.org/wiki/XML" target="_blank" rel="noopener noreferrer">XML</a>. XML определяет базовые правила по которым должна происходить разметка документа. Упрощенно они сводятся к тому, что</p><ol><li>Разметка состоит из элементов;</li><li>Каждый элемент начинается с открывающего тега и оканчивается закрывающим, между которыми находиться содержимое элементов. У каждого тега есть имя, например &lt;p&gt;Абзац&lt;/p&gt;;</li><li>Элементы могут вкладываться друг в друга.</li></ol><p>Какие именно элементы могут появиться в разметке и как они могут соотноситься друг с другом определяется уже конкретным языком разметки, таким как DocBook или HTML. Языки разметки основанные на XML хорошо подходят для машинной обработки, но только относительно понятно и удобны для чтения человеком. Документы на XML-подобных языках разметки редко редактируются напрямую, а обычно используются специальные программы, которые предоставляют пользователю интерфейс для просмотра или редактирования. Естественно, для каждого вида XML-документов требуется своя программа: для DocBook одна, для <a href="https://ru.wikipedia.org/wiki/DITA" target="_blank" rel="noopener noreferrer">DITA</a>] вторая, а для <a href="https://ru.wikipedia.org/wiki/FictionBook" target="_blank" rel="noopener noreferrer">FB2</a> третья. Существуют <a href="https://www.oxygenxml.com/" target="_blank" rel="noopener noreferrer">универсальные XML-редакторы</a>, но из-за своей универсальности они не могут отразить и использовать специфику определённого формата.</p><p>Противоречие необходимости редактировать и читать текст с возможностью его машинной обработки разрешилось появлением и развитием <a href="https://en.wikipedia.org/wiki/Lightweight_markup_language" target="_blank" rel="noopener noreferrer">облегчённых языков разметки</a>. Они позволяют выразить достаточно элементов, но в то же время текст на них минимально отличается от простого текста написанного вообще без разметки. Одновременно с этим повышается доступность: для редактирования и чтения файла подойдёт любой простейший текстовый редактор, а если нужны какие-то дополнительные возможности то для них тоже есть <a href="https://ru.wikipedia.org/wiki/WYSIWYG" target="_blank" rel="noopener noreferrer">WYSIWYG-редакторы</a>.</p><p>Выбор облегченного языка разметки логичен для экономии трудовых ресурсов и удобства вычитки. Внутри системы текст всё равно будет находиться в виде AST, реляционных таблиц или каком-то другом, но когда он подготавливается, читается и редактируется людьми, логично выбрать формат удобный именно для людей.</p><p>В силу особенностей текстологических задач, обозначенных выше в описании необходимых элементов разметки, любой из выбранных форматов нужно будет расширять: вводить свои элементы разметки, редактировать или убирать существующие. Так же можно комбинировать удачные подходы из разных языков разметки. Для начала работ, если никаких технических средств ещё не создано, эффективнее всего взять один самых популярных форматов, для работы с которым уже создано много технических средств. К таким форматам можно отнести: варианты Markdown <a href="https://github.github.com/gfm/" target="_blank" rel="noopener noreferrer">GitHub Flavored Markdown</a> и <a href="https://fletcherpenney.net/multimarkdown/" target="_blank" rel="noopener noreferrer">MultiMarkwon</a>, <a href="https://en.wikipedia.org/wiki/ReStructuredText" target="_blank" rel="noopener noreferrer">reStructuredText</a>, <a href="https://asciidoc.org/" target="_blank" rel="noopener noreferrer">AsciiDoc</a>. Особого внимания заслуживает <a href="https://orgmode.org/" target="_blank" rel="noopener noreferrer">Org-mode</a>. Это далеко не полный список, например, можно рассмотреть список языков разметки со страницы популярной утилиты конвертации документов между разными форматами <a href="https://pandoc.org/" target="_blank" rel="noopener noreferrer">Pandoc</a>.</p><p>В итоге, для разметки следует использовать свой, разработанный специально для этой задачи, формат основанный на языках облегчённой разметки текстов.</p><h2 id="структура-данных-и-ее-реализация" tabindex="-1"><a class="header-anchor" href="#структура-данных-и-ее-реализация"><span>Структура данных и её реализация</span></a></h2><p>Мы определились с направлениям того как хранить текст,— с использованием кодировки основанной на Unicode, и с тем как размечать элементы авторского замысла не являющиеся просто текстом,— с использованием языка основанного на облегчённом языке текстовой разметки. Но это относится только к первой задаче текстологии — установление авторского текста, для второй задачи — организация и композиция текстов, этого уже недостаточно.</p><p>Коллекция произведений, даже одного автора, не является одним текстом. Кроме того, для исследовательских целей, есть необходимость хранить разные варианты одного и того же текста, напечатанные в разных годах, в разных издания и т. п. Отдельной, но тесно связанной, задачей идёт хранение переводов. Огромные возможности предоставляемые современной техникой, такие как поиск или сравнение, могут быть использованы только если тексты хранятся специфическим образом.</p><p>Чтобы продуктивно обсуждать способ хранения текстов, необходимо рассмотреть идею различия <a href="https://ru.wikipedia.org/wiki/%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85" target="_blank" rel="noopener noreferrer">структуры данных</a> и реализации. Рассмотрим пример следующей структуры данных</p><ol><li><strong>Автор</strong> имеет <strong>Имя</strong>, <strong>Фамилию</strong>, <strong>Отчество</strong> и <strong>Дату рождения</strong>;</li><li><strong>Произведение</strong> имеет <strong>Название</strong> и <strong>Дату публикации</strong> и <strong>Текст произведения</strong>;</li><li><strong>Произведение</strong> всегда написано только одним <strong>Автором</strong>;</li><li><strong>Печатное издание</strong> имеет <strong>Название</strong>, <strong>Название издательства</strong> и <strong>Дату публикации</strong>;</li><li><strong>Печатное издание</strong> может включать одну или несколько <strong>Произведений</strong>, а одно <strong>Произведение</strong> может находиться в нескольких <strong>Печатных изданиях</strong>.</li></ol><p>В этой модели обозначены три сущности: Автор, Произведение и Печатное издание. Кроме этого указаны свойства сущностей и связи между ними. По сути это <a href="https://ru.wikipedia.org/wiki/ER-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C" target="_blank" rel="noopener noreferrer">ER-модель</a> — концептуальная схема предметной области, в данном случае текстологии. Самое важное что эта модель никак ничего не говорит о способе её реализации, она только описывает предметную область. Мы можем даже использовать эту модель и вести текстологическую картотеку используя бумагу и несколько шкафов, но нас, конечно, больше интересует цифровой формат, поэтому сосредоточимся на нём.</p><p>Выбранная модель данных может быть реализована с помощью следующих правил:</p><ol><li>Для каждого Автора создаётся отдельный каталог;</li><li>Произведения и Печатные издания хранятся в отдельных файлах в каталогах автора;</li><li>Дополнительная информация об авторе храниться в файле Автор.txt в каталоге автора.</li></ol><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Текстологическая база данных</span>
<span class="line">|- Автор01</span>
<span class="line">| |- Автор.txt</span>
<span class="line">| |- Произведение01.txt</span>
<span class="line">| |- Произведение02.txt</span>
<span class="line">| |- Печатное издание01.txt</span>
<span class="line">|</span>
<span class="line">|- Автор02</span>
<span class="line">  |- Автор.txt</span>
<span class="line">  |- Произведение01.txt</span>
<span class="line">  |- Печатное издание01.txt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Пример файла с описанием автора:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">name: Иванов Иван Иванович</span>
<span class="line"></span>
<span class="line">birthday: 01.10.1910</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Пример файла, описания печатного издания, в котором перечисляются произведения, выходящие в печатное издание:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Произведение1</span>
<span class="line"></span>
<span class="line">Произведение2</span>
<span class="line"></span>
<span class="line">Произведение3</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>То что мы описали, это один из способов реализации модели данных, в этом случае с использованием файлов и каталогов. Рассмотрим второй вариант реализации, на основе реляционной базы данных:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">create table authors (</span>
<span class="line">  first_name text,</span>
<span class="line">  last_name text,</span>
<span class="line">  middle_name text,</span>
<span class="line">  birthday date</span>
<span class="line">);</span>
<span class="line"></span>
<span class="line">create table works (</span>
<span class="line">  name text,</span>
<span class="line">  publish_date date,</span>
<span class="line">  work_text text</span>
<span class="line">);</span>
<span class="line"></span>
<span class="line">create table books (</span>
<span class="line">  name text,</span>
<span class="line">  publisher text,</span>
<span class="line">  publish_date date</span>
<span class="line">);</span>
<span class="line"> ​</span>
<span class="line">create table works_books (</span>
<span class="line">  author_id text,</span>
<span class="line">  work_id text</span>
<span class="line">);</span>
<span class="line"></span>
<span class="line">alter table works add foreign key (author_id) references authors (author_id);</span>
<span class="line"></span>
<span class="line">alter table books_works add foreign key (book_id) references books (book_id);</span>
<span class="line">alter table books_works add foreign key (work_id) references works (work_id);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Обе реализации сильно отличаются, и имеют свои преимущества и недостатки. К примеру, внесение изменений в файлы может быть произведено в любом текстовом редакторе, а для использование базы данных понадобиться установка <a href="https://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%B1%D0%B0%D0%B7%D0%B0%D0%BC%D0%B8_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85" target="_blank" rel="noopener noreferrer">СУБД</a>. А одно из преимуществе базы данных — автоматический контроль корректности данных, например, чтобы нельзя было ввести <strong>Произведение</strong> для несуществующего <strong>Автора</strong>. Главное отметить что обе реализации основаны на одной и той же модели данных и в этом отношении они эквивалентны. Когда мы обсуждаем структуру данных для текстологической работы нам следует сосредоточиться именно на модели, а не на её реализации. Завязка на реализацию значительно ограничивает возможности массового использования данной модели: одна группа может обладать технической компетенцией для работы с базой данных, а другая нет. Технические компетенции группы также могут быть привязаны к конкретной СУБД, или же опираться на другие технологии. Задачи группы могут включать в себя необходимость использования преимуществ СУБД, а могут не включать. Концентрации на модели данных вместо реализации, позволяет не учитывать все эти детали, а сосредоточиться на самом важном и общем для текстологической работы.</p><p>Другим примером структуры данных является AST, обсуждаемое выше в разделе про текстовые форматы, а модель <a href="http://propaganda-journal.net/10402.html" target="_blank" rel="noopener noreferrer">базы данных для текстологической работы</a> представляет собой пример реализации — она специфична для определённой реляционной базы данных (<a href="https://en.wikipedia.org/wiki/PostgreSQL" target="_blank" rel="noopener noreferrer">PostgreSQL</a>).</p><h2 id="отличия-модели-данных-для-внутреннего-использования-и-для-обмена" tabindex="-1"><a class="header-anchor" href="#отличия-модели-данных-для-внутреннего-использования-и-для-обмена"><span>Отличия модели данных для внутреннего использования и для обмена</span></a></h2><p>Рассмотрим детальнее модель данных для чего нам необходимо составить. Модель данных данных предназначена для хранения данных, нужно указать какие произведения есть у автора, когда они издавались, были ли соавторы и т. д. То что мы намерены хранить определяет свойства модели. Но модель не просто что-то хранит, мы намерены использовать её: производить поиск, составлять разные издания, редактировать опечатки и производить другую работу. Свойства модели так же зависят от наших целей, как от самих данных.</p><p>К примеру, мы можем просто расширить язык разметки, обсуждаемый выше. Ввести в него возможность указания авторов, печатных изданий и всё остальной информации. Но в этом случае исчезнет основное преимущество легкого языка разметки — простота редактирования, а каких-то особых преимуществ мы не получим.</p><p>Другие примеры. Если мы хотим хранить несколько версий текстов одного автора для изучения развития авторской мысли отражённой в корректировках текста, то нам необходимо выделить в отдельную сущность модели — версия текста. А если у небольшого коллектива стоит задача перевода нескольких произведений Ленина на национальный язык, то какой-то необходимости учитывать версию текста у них нет, для этой задачи вполне достаточно одной версии.</p><p>Учитывая разницу между целями и возможностями разных групп, занятых текстологической работой мы не можем сформировать единый набор требований для модели данных, ведь модель отчасти и основывается на возможностях и целях группы. Оставить выбор модели данных на произвол каждой группы тоже нельзя — это противоречит задаче глобального обмена результатами текстологической работы, совместимости этих результатов. Но ведь мы и можем сконцентрироваться именно на этом — на модели данных для обмена информацией, вместо построения модели подходящей для целей и задач только некоторых групп.</p><p>Рассмотрим один из международных стандартов в области здравоохранения <a href="http://hl7.org/fhir/" target="_blank" rel="noopener noreferrer">HL7 версии 4 — FHIR</a>. Документооборот в области здравоохранения различается в разных странах, округах одной страны и даже в разных медицинских учреждениях. Разные профили оказания медицинской помощи, размер учреждений, законодательство, разные поставщики программного обеспечения — всё накладывает ограничения, которые приводят к несовместимости медицинских данных зафиксированных в разных медицинских организациях, не смотря на то, что суть работы, в значительной мере совпадает: врачи делают осмотры, хирурги проводят операции, а в лаборатории производятся лабораторные исследования.</p><p>В противовес раздробленности системы здравоохранения, пациентам нужно иметь единую электронную медицинскую карту, независимо в каком учреждении они проходили лечение, а государственным службам получать общие статистические показатели по стране. Из этого противотечения и появляются попытки создания международных стандартов, которые способны обеспечить передачу и использование данных от разных поставщиков. Стандарт FHIR <a href="https://evercare.ru/fhir-dlya-tekhnicheskikh-liderov-health-it-proekto" target="_blank" rel="noopener noreferrer">подразумевает разные способы использования</a>: можно посмотреть его описание и получить идеи и информации для упрощения разработки системы, можно использовать этот формат для обмена данными между другими системами — предоставлять данные в формате FHIT во вне и принимать данные в этом формате внутрь системы, а можно реализовать систему полностью на основе этого формата, когда внутренняя структура будет соответствовать стандарту. Разработчики, в зависимости от целей и возможностей выбирают подход для конкретного проекта.</p><p>Ситуация с текстологической работой имеет сходные моменты с описанным примером. Описанная модель данных (формат, стандарт, структура данных) может помочь в обмене результатами между разными группами, или как минимум повысить совместимость этих результатов.</p><p>Итак, наиболее перспективно для международного сотрудничества выглядит разработка стандарта для обмена текстологической информацией для повышения совместимости результатов работы.</p><h2 id="отделение-формата-от-программы" tabindex="-1"><a class="header-anchor" href="#отделение-формата-от-программы"><span>Отделение формата от программы</span></a></h2><p>Не вызывает сомнений, что для текстологической работы нужно будет разработать специальные программные средства упрощающие и облегчающие эту работу, но разрабатываемый формат не должен привязываться к какому-то конкретному средству реализующему этого формат. Цель формата — как можно большая универсальность и независимость от специфики отдельных средств.</p><p>Описанный стандарт позволяет независимо разрабатывать разные средства, под разные задачи, следуя <a href="https://ru.wikipedia.org/wiki/%D0%A4%D0%B8%D0%BB%D0%BE%D1%81%D0%BE%D1%84%D0%B8%D1%8F_Unix" target="_blank" rel="noopener noreferrer">философии Unix</a>: одна программа делает только одно действие, но делает его хорошо и совместима с другими программами. Например, можно разработать отдельное средство для конвертации из нашего формата в PDF, FB2, ODF и другие форматы. Другое же средство может отображать библиотеку и отдельные книги в виде сайта. Причем, каждое из этих средств может реализовываться на разных технологиях и с разными возможностями.</p><p>Готовые текстологические базы данных могут использовать <a href="http://propaganda-journal.net/10571.html" target="_blank" rel="noopener noreferrer">адаптеры для импорта и экспорта данных</a> в общем формате. А будущие разработки, если это совпадёт с целями группы, могут разработать базу данных более совместимую со стандартом.</p><h2 id="элементы-модели-данных" tabindex="-1"><a class="header-anchor" href="#элементы-модели-данных"><span>Элементы модели данных</span></a></h2><p>Так же как и с разметкой, появляется два вопроса: что должно входит в модель данных и как оформлять модель данных?</p><p>При выборе элементов за основу мы можем взять модель, реализованную в виде <a href="http://propaganda-journal.net/10402.html" target="_blank" rel="noopener noreferrer">FZR-схемы</a>. Приведем примерный список сущностей, для включения в стандарт:</p><ul><li>Автор</li><li>Произведение</li><li>Версия произведения</li><li>Абзац</li><li>Печатный материал</li><li>Страница</li><li>Серия</li><li>Издание</li><li>Перевод</li><li>Язык</li><li>Переводчик</li><li>Издательство</li><li>Страница фотокопии</li><li>Фрагмент страницы фотокопии</li></ul><p>Список элементов, их свойств и связей между ними требует дальнейшей проработки, выходящей за рамки данного обзора.</p><h2 id="способы-оформления-стандарта" tabindex="-1"><a class="header-anchor" href="#способы-оформления-стандарта"><span>Способы оформления стандарта</span></a></h2><p>Рассмотрим как должен выглядеть стандарт. По тем же причинам, что указаны для разметки, наиболее удобен выбор текстового формата. Отличие от разметки, предназначенной для облегчения чтения и редактирования текстов, формат для обмена больше предназначается для машины, чем для человека. Редактирование данных для обмена вручную возможно, но чаще будет производиться сделанными специально для этого программные средствами.</p><p>Таким образом, формат может быть основан на XML или сходных технологиях. Основное требование для машиночитаемого формата это формальное описание. Оно позволяет проверить соответствуют ли данный текст заданному стандартом формату или нет. Описанный выше, пример <a href="https://ru.wikipedia.org/wiki/ER-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C" target="_blank" rel="noopener noreferrer">ER-модели</a> недостаточно удобен для этих целей и подходит скорее для обсуждения и проработки концепции между людьми. В идеальном случае, формат должен быть независим от используемого способа разметки и позволять равнозначно использовать <a href="https://ru.wikipedia.org/wiki/XML" target="_blank" rel="noopener noreferrer">XML</a> и <a href="https://ru.wikipedia.org/wiki/JSON" target="_blank" rel="noopener noreferrer">JSON</a>.</p><p>Выбор конкретного способа формальной разметки требует дальнейшей проработки. Можно рассмотреть, <a href="https://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F_%D1%84%D0%BE%D1%80%D0%BC%D0%B0_%D0%91%D1%8D%D0%BA%D1%83%D1%81%D0%B0_%E2%80%94_%D0%9D%D0%B0%D1%83%D1%80%D0%B0" target="_blank" rel="noopener noreferrer">РБНФ</a> для разметки, <a href="https://ru.wikipedia.org/wiki/XML_Schema_(W3C)" target="_blank" rel="noopener noreferrer">XSD</a> и <a href="https://json-schema.org/" target="_blank" rel="noopener noreferrer">JSON Schema</a> как валидаторы для XML и JSON, <a href="https://ru.wikipedia.org/wiki/Resource_Description_Framework" target="_blank" rel="noopener noreferrer">модель RDF</a>. Вероятно, для описания семантики, как и для разметки текста, так и для структуры модели данных понадобится обычное текстовое описание. Проще всего начать именно с него.</p><h2 id="комментирование" tabindex="-1"><a class="header-anchor" href="#комментирование"><span>Комментирование</span></a></h2><p>Третья задача текстологии является комментирование текстов. Комментарии могут быть разного типа: авторские комментарии, примечания переводчика, редактора и др. В разных типах издания подходящими будут разные типы комментариев. Некоторые издания могут быть вообще, без комментариев. Но авторский текст, установленный на данный момент, всегда будет тем же самым, во всех изданиях.</p><p>Способы внесения комментариев в текст требуют технической проработки. Наиболее перспективной выглядит идея о разделении авторского текста и комментариев — концепция слоёв. Авторский текст остаётся неизменным, но поверх него можно добавлять новую информацию.</p><p>Вариант реализации, когда в тексте ставиться ссылка на примечание</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">[^54]</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>уже нарушает авторский текст. Один из способов этого избежать это хранить в самом примечании позицию куда его нужно вставить. Одна из проблем — это изменение авторского текста, например, исправление опечаток. После изменения символов позиции слоёв могут нарушиться. Но эта проблема может быть решена усложнение автоматической <a href="https://ru.wikipedia.org/wiki/Diff" target="_blank" rel="noopener noreferrer">процедуры слияния</a> с новой версией, хотя, такой алгоритм требует исследования.</p><p>Полное отделение слоёв позволит неограниченно добавлять и использовать их для любых целей.</p><h2 id="объединение-результатов-работы" tabindex="-1"><a class="header-anchor" href="#объединение-результатов-работы"><span>Объединение результатов работы</span></a></h2><p>Разрабатываемый формат обмена должен быть направлен на упрощение объединения результатов текстологической работы раздельных групп. Основные направления объединения:переводы и совместное редактирование.</p><p>Объединение не означает размещение на одном сервере или в одной базе данных, хотя и такой способ возможен, а потенциальную совместимость работ. Рассмотрим пример: если ПСС Ленина будет переведён на украинский и белорусский языки, то между ними должна быть возможность автоматически сопоставить переводы друг другу. Сопоставить переводы означает определить какой абзац на украинском соответствует данному абзацу на белорусском. Для этой цели формат должен позволять ссылаться на абзацы, а для этого у абзаца должен быть идентификатор. Кроме абзаца такой же идентификатор необходим у любого блока текста: заголовка, изображения и т. д.</p><p>Недостатки использования в качестве абзаца порядкового номера <a href="http://propaganda-journal.net/10402.html" target="_blank" rel="noopener noreferrer">уже детально разобраны</a>, основный из них — при изменении текста, порядок абзацев может измениться, а следовательно все сопоставления сломаются. Один из вариантов решения — использовать <a href="https://ru.wikipedia.org/wiki/GUID" target="_blank" rel="noopener noreferrer">GUID</a> для всех идентификаторов. В этом случае, При любом изменении абзацев нужно будет отредактировать только сопоставление для измененных абзацев.</p><p>Проблема с идентификаторами только одна из комплекса проблем которые необходимо решить, чтобы формат позволял легко совмещать различные работы. Выработка решений будет производиться совместно с разработкой формата. Сейчас можно только наметить проблемы, которые видно сразу:</p><ol><li>Поддержка разных версий текста, так чтобы сопоставления для переводов, комментарии и другие элементы не было необходимо;</li><li>Необходимость общих справочников: языков, авторов, произведений. В некоторых случаях можно обойтись готовыми решениями, например, <a href="https://www.iso.org/ru/iso-639-language-codes.html" target="_blank" rel="noopener noreferrer">ISO 639</a> для справочника языков.</li></ol><h2 id="текстология-как-мышление-человечества" tabindex="-1"><a class="header-anchor" href="#текстология-как-мышление-человечества"><span>Текстология как мышление человечества</span></a></h2><p>Мы кратко разобрали особенности выполнения текстологических задач в цифровом формате: сохранение авторского текста, организация текстов и комментирование. Но с появлением новых технологий масштабность возникают новые, гораздо более масштабные задачи.</p><p>Технические средства, как тесно связанную с другими часть человеческой культуры, можно считать материальным субстратом мышления, или «общественным мозгом». Современные научные исследования не могут производиться в одиночку, а часто производятся <a href="https://www.nature.com/news/physics-paper-sets-record-with-more-than-5-000-authors-1.17567" target="_blank" rel="noopener noreferrer">гигантскими коллективами людей</a>. Для эффективной работы таких коллективов требуется современное техническое оснащение:</p><blockquote><p>В развитии человеческого общества неизбежно наступает момент, когда резервы традиционных приемов совершенствования управления — организация и социально-экономические механизмы — оказываются исчерпанными. Ведь пропускная способность человеческого мозга, как преобразователя информации, хотя и велика, но ограничена. В своей книге «Основы безбумажной информатики» Глушков называет такую ситуацию вторым информационным барьером (Первым информационным барьером называется порог сложности управления системой, превосходящей возможности одного человека). Для преодоления второго информационного барьера человек должен большинство функций по преобразованию информации и управлению передать компьютеру. <sup class="footnote-ref"><a href="#fn8" id="fnref8">[8]</a></sup></p></blockquote><p>На базе размеченных текстов может быть создана высокоуровневая информационная система или даже экосистема информационных систем. Попробуем обозначить некоторые перспективные возможности.</p><p>Свобода изменения внешнего вида. Для отображения работ может применяться полноценное веб-приложение, с тонкой настройкой внешнего вида под задачи пользователя. Если нужен только авторский текст, то останется только он, а если потребуется отобразить номера страниц из печатного варианта или текстологические комментарии, то это будет сделано включением соответствующих опций. Такие вещи как настройка шрифта, цвета фона и других параметров не представляют никакой сложности для современных браузеров даже сейчас.</p><p>Просмотр переводов и оригинала. Для каждого фрагмента можно посмотреть перевод на заданном языке, или оригинал, если пользователь смотрит перевод, а от оригинала перейти к фотокопии книги или даже к исходной рукописи.</p><p>Автоматизация поиска и сравнения. Не трудно организовать поиск с учетом морфологии слов по всему набору произведений, с учётом заданных фильтров: по автору, серии и любых других. Для исследований может быть полезна автоматизация поиска и отображение в удобном виде различия между разными редакциями текста или в разных вариантах перевода. Могут параллельно существовать тексты с современной и устаревшей грамматикой.</p><p>Информационная система может позволять хранить и комментировать цитаты из различных произведений. Причем для коллективной работы могут создаваться целые информационные слои с комментариями, дополнительными примерами или разъяснениями. Подобным же образом можно связать критическую работу с критикуемым материалом, или текст учебного пособия с текстами первоисточников. Внешний вид может позволять включать, отключать разные слои, или выбирать необходимую степень их детализации.</p><p>При достаточной разметке цитат их можно будет автоматически проверять на корректность. Возможен переход в один клик к фрагменту в цитируемом произведении, а на основе ссылок можно строить графы связей работ или авторов.</p><p>Указатели могут строиться как автоматически, так и вручную, главное чтобы можно было указать прямой идентификатор заданного блока текста. При определённом развитии системы указатели, как и многие другие элементы, могут наполняться <a href="https://ru.wikibooks.org/wiki/%D0%A1%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B_Web_2.0_%D0%B2_%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B8_%D0%B8_%D0%BE%D0%B1%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B8/%D0%92%D0%B8%D0%BA%D0%B8-%D1%82%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8" target="_blank" rel="noopener noreferrer">коллективно по принципам wiki-технологий</a>. То же относиться к поиску и исправлению опечаток.</p><p>Широкая интеграция со сходными по назначению системами, такими как <a href="https://www.mendeley.com/" target="_blank" rel="noopener noreferrer">Mendeley</a>, <a href="https://www.zotero.org/" target="_blank" rel="noopener noreferrer">Zotero</a>, <a href="http://www.qiqqa.com/" target="_blank" rel="noopener noreferrer">Qiqqa</a>, является ещё одним из важных направлений работы.</p><p>При коллективном развитии автоматизации текстологической работы, наверняка, появятся и другие, намного лучшие идеи и возможности, чем представленные выше.</p><h2 id="выводы" tabindex="-1"><a class="header-anchor" href="#выводы"><span>Выводы</span></a></h2><p>Кратко отметим основные направления по которым, мы считаем, следует вести дальнейшие исследования и как можно более широкое обсуждение.</p><ol><li><p>Разработка международных критериев и формата для разметки текстов. Разработка принципов разметки, выбор и описание элементов разметки, формальное описание разметки;</p></li><li><p>Разработка стандарта для обмена текстологической информацией, формирование списка элементов, их свойств и связей. Формальное описание стандарта;</p></li><li><p>Составление списка справочников, необходимых для обмена текстологической информацией, их наполнение и публикация.</p></li></ol><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>С. А. Рейсер. Основы текстологии, 1978. стр. 11. <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>С. А. Рейсер. Основы текстологии, 1978. стр. 33. <a href="#fnref2" class="footnote-backref">↩︎</a></p></li><li id="fn3" class="footnote-item"><p>При детализации всё оказывается несколько сложнее, есть кодовые точки без символа, а некоторые кодовые точки группируются в один символ. <a href="#fnref3" class="footnote-backref">↩︎</a></p></li><li id="fn4" class="footnote-item"><p>С. А. Рейсер. Основы текстологии, 1978. стр. 23. <a href="#fnref4" class="footnote-backref">↩︎</a></p></li><li id="fn5" class="footnote-item"><p><a href="http://propaganda-journal.net/10571.html" target="_blank" rel="noopener noreferrer">Что не так с текстологией и как исправить ситуацию? Часть VI К оценке текстологического плана коллектива «Заря»</a>. <a href="#fnref5" class="footnote-backref">↩︎</a></p></li><li id="fn6" class="footnote-item"><p>Возможны исключения и из-за разной длины надписей на разных языках потребуется изменение изображения, но это минимальные изменения и они проще чем в редакторе растровых изображений. <a href="#fnref6" class="footnote-backref">↩︎</a></p></li><li id="fn7" class="footnote-item"><p>за исключением особых случаев вроде элемента &lt;pre&gt;. <a href="#fnref7" class="footnote-backref">↩︎</a></p></li><li id="fn8" class="footnote-item"><p><a href="https://vk.com/@vekrako-upravlenie-nauchno-tehnicheskim-progressom-koncepciya-v-m-gl" target="_blank" rel="noopener noreferrer">Управление научно-техническим прогрессом: концепция В. М. Глушкова</a>. <a href="#fnref8" class="footnote-backref">↩︎</a></p></li></ol></section></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Последнее изменение: </span><time class="meta-item-info" datetime="2025-04-15T06:34:23.000Z" data-allow-mismatch>15.04.2025, 06:34</time></div><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-3vC-laG6.js" defer></script>
  </body>
</html>
